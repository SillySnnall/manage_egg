{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./src/components/Customer.vue?3845","webpack:///src/components/Customer.vue","webpack:///./src/components/Customer.vue?7979","webpack:///./src/components/Customer.vue","webpack:///./src/params/CustomerP.js"],"names":["dP","__webpack_require__","f","FProto","Function","prototype","nameRE","NAME","configurable","get","this","match","e","render","_vm","_h","$createElement","_c","_self","staticStyle","padding-bottom","attrs","gutter","span","on","input","emptysDearchCustomer","model","value","callback","$$v","inputText","expression","width","slot","searchType","_v","icon","click","findCustomer","type","disabled","user","authority","substr","addCustomerModal","border","columns","titleList","data","customerList","scopedSlots","_u","key","fn","ref","row","index","margin-right","size","$event","editCustomerModal","deleteCustomerModal","loadMore","_e","title","titleModalText","closable","class-name","on-ok","addEditCustomerModalOk","on-cancel","addEditCustomerModalCancel","addEditCustomerModal","customer","$set","padding-top","label","staticRenderFns","Customervue_type_script_lang_js_","name","align","addOrEdit","isShowMoreBtn","offset","limit","methods","button4","code","shop","phone","region","create_time","_this2","_this","$Modal","confirm","content","onOk","$Spin","show","Object","Http","CustomerP","datas","msg","hide","$Message","success","error","onCancel","newCustomer","length","i","push","created","sessionStorage","getItem","JSON","parse","$router","components_Customervue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","addCustomer","ac","updateCustomer","deleteCustomer","searchText","arguments","undefined"],"mappings":"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","file":"js/chunk-73eeec88.6f687c43.js","sourcesContent":["var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{on:{\"input\":_vm.emptysDearchCustomer},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}},[_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\"},slot:\"prepend\",model:{value:(_vm.searchType),callback:function ($$v) {_vm.searchType=$$v},expression:\"searchType\"}},[_c('Option',{attrs:{\"value\":\"shop\"}},[_vm._v(\"商店名称\")]),_c('Option',{attrs:{\"value\":\"name\"}},[_vm._v(\"客户名称\")]),_c('Option',{attrs:{\"value\":\"phone\"}},[_vm._v(\"电话号码\")])],1),_c('Button',{attrs:{\"slot\":\"append\",\"icon\":\"ios-search\"},on:{\"click\":_vm.findCustomer},slot:\"append\"})],1)],1),_c('Col',{attrs:{\"span\":\"2\"}},[_c('Button',{attrs:{\"type\":\"warning\",\"disabled\":_vm.user.authority.substr(3,4) == 0},on:{\"click\":_vm.addCustomerModal}},[_vm._v(\"新增\")])],1)],1),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.titleList,\"data\":_vm.customerList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\",\"disabled\":_vm.user.authority.substr(1,2) == 0},on:{\"click\":function($event){return _vm.editCustomerModal(row, index)}}},[_vm._v(\"修改\")]),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\",\"disabled\":_vm.user.authority.substr(2,3) == 0},on:{\"click\":function($event){return _vm.deleteCustomerModal(row, index)}}},[_vm._v(\"删除\")])]}}])}),(_vm.isShowMoreBtn)?_c('Button',{staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.loadMore}},[_vm._v(\"加载更多\")]):_vm._e(),_c('Modal',{attrs:{\"title\":_vm.titleModalText,\"closable\":false,\"class-name\":\"vertical-center-modal\"},on:{\"on-ok\":_vm.addEditCustomerModalOk,\"on-cancel\":_vm.addEditCustomerModalCancel},model:{value:(_vm.addEditCustomerModal),callback:function ($$v) {_vm.addEditCustomerModal=$$v},expression:\"addEditCustomerModal\"}},[_c('div',[_vm._v(\"\\n      商店名称：\\n      \"),_c('Input',{staticStyle:{\"width\":\"84%\"},attrs:{\"type\":\"text\"},model:{value:(_vm.customer.shop),callback:function ($$v) {_vm.$set(_vm.customer, \"shop\", $$v)},expression:\"customer.shop\"}})],1),_c('div',{staticStyle:{\"padding-bottom\":\"10px\",\"padding-top\":\"10px\"}},[_vm._v(\"\\n      客户名称：\\n      \"),_c('Input',{staticStyle:{\"width\":\"84%\"},attrs:{\"type\":\"text\"},model:{value:(_vm.customer.name),callback:function ($$v) {_vm.$set(_vm.customer, \"name\", $$v)},expression:\"customer.name\"}})],1),_c('div',[_vm._v(\"\\n      手机号码：\\n      \"),_c('Input',{staticStyle:{\"width\":\"84%\"},attrs:{\"type\":\"number\"},model:{value:(_vm.customer.phone),callback:function ($$v) {_vm.$set(_vm.customer, \"phone\", $$v)},expression:\"customer.phone\"}})],1),_c('div',{staticStyle:{\"padding-top\":\"10px\"}},[_vm._v(\"\\n      地区：    \\n      \"),_c('RadioGroup',{attrs:{\"type\":\"button\"},model:{value:(_vm.customer.region),callback:function ($$v) {_vm.$set(_vm.customer, \"region\", $$v)},expression:\"customer.region\"}},[_c('Radio',{attrs:{\"label\":\"市区\"}}),_c('Radio',{attrs:{\"label\":\"郊县\"}})],1)],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Row :gutter=\"16\" style=\"padding-bottom: 16px\">\r\n      <Col span=\"6\">\r\n        <Input v-model=\"inputText\" @input=\"emptysDearchCustomer\">\r\n          <Select v-model=\"searchType\" slot=\"prepend\" style=\"width: 80px\">\r\n            <Option value=\"shop\">商店名称</Option>\r\n            <Option value=\"name\">客户名称</Option>\r\n            <Option value=\"phone\">电话号码</Option>\r\n          </Select>\r\n          <Button slot=\"append\" icon=\"ios-search\" @click=\"findCustomer\" />\r\n        </Input>\r\n      </Col>\r\n      <Col span=\"2\">\r\n        <Button\r\n          type=\"warning\"\r\n          @click=\"addCustomerModal\"\r\n          :disabled=\"user.authority.substr(3,4) == 0\"\r\n        >新增</Button>\r\n      </Col>\r\n    </Row>\r\n    <Table border :columns=\"titleList\" :data=\"customerList\">\r\n      <template slot-scope=\"{ row, index }\" slot=\"action\">\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          style=\"margin-right: 5px\"\r\n          @click=\"editCustomerModal(row, index)\"\r\n          :disabled=\"user.authority.substr(1,2) == 0\"\r\n        >修改</Button>\r\n        <Button\r\n          type=\"error\"\r\n          size=\"small\"\r\n          @click=\"deleteCustomerModal(row, index)\"\r\n          :disabled=\"user.authority.substr(2,3) == 0\"\r\n        >删除</Button>\r\n      </template>\r\n    </Table>\r\n    <Button @click=\"loadMore\" style=\"width: 100%\" v-if=\"isShowMoreBtn\">加载更多</Button>\r\n    <Modal\r\n      :title=\"titleModalText\"\r\n      :closable=\"false\"\r\n      v-model=\"addEditCustomerModal\"\r\n      @on-ok=\"addEditCustomerModalOk\"\r\n      @on-cancel=\"addEditCustomerModalCancel\"\r\n      class-name=\"vertical-center-modal\"\r\n    >\r\n      <div>\r\n        商店名称：\r\n        <Input type=\"text\" v-model=\"customer.shop\" style=\"width: 84%\" />\r\n      </div>\r\n      <div style=\"padding-bottom: 10px; padding-top: 10px\">\r\n        客户名称：\r\n        <Input type=\"text\" v-model=\"customer.name\" style=\"width: 84%\" />\r\n      </div>\r\n      <div>\r\n        手机号码：\r\n        <Input type=\"number\" v-model=\"customer.phone\" style=\"width: 84%\" />\r\n      </div>\r\n      <div style=\"padding-top: 10px\">\r\n        地区：&ensp;&ensp;&ensp;&ensp;\r\n        <RadioGroup v-model=\"customer.region\" type=\"button\">\r\n          <Radio label=\"市区\"></Radio>\r\n          <Radio label=\"郊县\"></Radio>\r\n        </RadioGroup>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Http_Post } from \"../common/Http\";\r\nimport {\r\n  findCustomer,\r\n  addCustomer,\r\n  updateCustomer,\r\n  deleteCustomer\r\n} from \"../params/CustomerP\";\r\n\r\nexport default {\r\n  name: \"Customer\",\r\n  data() {\r\n    return {\r\n      user: {}, // 登录用户\r\n      titleList: [\r\n        {\r\n          type: \"index\",\r\n          width: 50,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"商店名称\",\r\n          key: \"shop\"\r\n        },\r\n        {\r\n          title: \"客户名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"电话号码\",\r\n          key: \"phone\"\r\n        },\r\n        {\r\n          title: \"地区\",\r\n          key: \"region\"\r\n        },\r\n        {\r\n          title: \"客户操作\",\r\n          slot: \"action\",\r\n          width: 130,\r\n          align: \"center\"\r\n        }\r\n      ], // 列表头\r\n      customerList: [], // 列表内容customer\r\n      addEditCustomerModal: false, // 是否显示Modal\r\n      titleModalText: \"\", // Modal标题文字\r\n      inputText: \"\", // 搜索框中的内容\r\n      searchType: \"shop\", // 搜索类型\r\n      customer: {}, // 提交的到服务器的客户对象\r\n      addOrEdit: 0, // 0是添加，1是修改\r\n      isShowMoreBtn: true, // 是否显示加载跟多按钮\r\n      offset: 0, // 分页加载页标\r\n      limit: 30 // 分页数据量\r\n    };\r\n  },\r\n  methods: {\r\n    button4() {},\r\n    // 加载跟多客户\r\n    loadMore() {\r\n      this.offset++;\r\n      this.findCustomer();\r\n    },\r\n    // 显示添加客户的Modal\r\n    addCustomerModal() {\r\n      this.titleModalText = \"新增客户\";\r\n      this.addOrEdit = 0;\r\n      this.addEditCustomerModal = true;\r\n    },\r\n    // 显示修改客户的Modal\r\n    editCustomerModal(row, index) {\r\n      this.titleModalText = \"修改客户\";\r\n      this.addOrEdit = 1;\r\n      this.customer.code = row.code;\r\n      this.customer.shop = row.shop;\r\n      this.customer.name = row.name;\r\n      this.customer.phone = row.phone;\r\n      this.customer.region = row.region;\r\n      this.customer.create_time = row.create_time;\r\n      this.addEditCustomerModal = true;\r\n    },\r\n    // 显示删除客户的Modal\r\n    deleteCustomerModal(row, index) {\r\n      let _this = this;\r\n      this.$Modal.confirm({\r\n        title: \"警告\",\r\n        content: \"确定删除此客户？\",\r\n        onOk: () => {\r\n          this.$Spin.show();\r\n          Http_Post(\r\n            deleteCustomer(row),\r\n            function(datas) {\r\n              if (datas.msg === 0) {\r\n                _this.$Spin.hide();\r\n                _this.$Message.success(\"删除成功\");\r\n                _this.offset = 0;\r\n                _this.findCustomer();\r\n              } else {\r\n                _this.$Spin.hide();\r\n                _this.$Message.error(datas.error);\r\n              }\r\n            },\r\n            function(error) {\r\n              _this.$Spin.hide();\r\n              _this.$Message.error(error);\r\n            }\r\n          );\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    },\r\n    // 搜索框为空，查询客户\r\n    emptysDearchCustomer() {\r\n      if (this.inputText === \"\") {\r\n        this.offset = 0;\r\n        this.findCustomer();\r\n      }\r\n    },\r\n    // 新增或修改商品取消\r\n    addEditCustomerModalCancel() {\r\n      if (this.addOrEdit === 1) {\r\n        this.newCustomer();\r\n      }\r\n    },\r\n    // 新增或修改客户\r\n    addEditCustomerModalOk() {\r\n      let _this = this;\r\n      if (this.customer.shop.length === 0) {\r\n        this.$Message.error(\"商店名称为空\");\r\n        return;\r\n      }\r\n      if (this.customer.name.length === 0) {\r\n        this.$Message.error(\"客户名称为空\");\r\n        return;\r\n      }\r\n      if (this.customer.phone.length === 0 || this.customer.phone.length > 11) {\r\n        this.$Message.error(\"电话号码为空或格式不正确\");\r\n        return;\r\n      }\r\n      this.$Spin.show();\r\n      if (this.addOrEdit === 0) {\r\n        // 新增\r\n        Http_Post(\r\n          addCustomer(_this.customer),\r\n          function(datas) {\r\n            if (datas.msg === 0) {\r\n              _this.$Message.success(\"添加成功\");\r\n              _this.newCustomer();\r\n              _this.$Spin.hide();\r\n              _this.offset = 0;\r\n              _this.findCustomer();\r\n            } else {\r\n              _this.$Spin.hide();\r\n              _this.$Message.error(datas.error);\r\n            }\r\n          },\r\n          function(error) {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(error);\r\n          }\r\n        );\r\n      } else {\r\n        // 修改\r\n        Http_Post(\r\n          updateCustomer(_this.customer),\r\n          function(datas) {\r\n            if (datas.msg === 0) {\r\n              _this.$Message.success(\"修改成功\");\r\n              _this.$Spin.hide();\r\n              _this.offset = 0;\r\n              _this.findCustomer();\r\n            } else {\r\n              _this.$Spin.hide();\r\n              _this.$Message.error(datas.error);\r\n            }\r\n            _this.newCustomer();\r\n          },\r\n          function(error) {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(error);\r\n          }\r\n        );\r\n      }\r\n    },\r\n    // 查询客户\r\n    findCustomer() {\r\n      let _this = this;\r\n      this.$Spin.show();\r\n      Http_Post(\r\n        findCustomer(\r\n          _this.inputText,\r\n          _this.searchType,\r\n          _this.offset,\r\n          _this.limit\r\n        ),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            if (datas.data.length < _this.limit) {\r\n              _this.isShowMoreBtn = false;\r\n            } else {\r\n              _this.isShowMoreBtn = true;\r\n            }\r\n            if (_this.offset == 0) {\r\n              _this.customerList = datas.data;\r\n            } else {\r\n              for (var i = 0; i < datas.data.length; i++) {\r\n                _this.customerList.push(datas.data[i]);\r\n              }\r\n            }\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n    // 新建空Customer对象\r\n    newCustomer() {\r\n      this.customer = {\r\n        code: \"\",\r\n        shop: \"\",\r\n        name: \"\",\r\n        phone: \"\",\r\n        region: \"市区\",\r\n        create_time: 0\r\n      };\r\n    }\r\n  },\r\n\r\n  created() {\r\n    // 判断是否登录\r\n    if (sessionStorage.getItem(\"user\") == null) {\r\n      this.$router.push({ name: \"login\" });\r\n      return;\r\n    }\r\n    this.user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n    this.newCustomer();\r\n    this.findCustomer();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Customer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Customer.vue?vue&type=template&id=2064296e&scoped=true&\"\nimport script from \"./Customer.vue?vue&type=script&lang=js&\"\nexport * from \"./Customer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2064296e\",\n  null\n  \n)\n\nexport default component.exports","// 添加客户\r\nexport function addCustomer(customer) {\r\n  return {\r\n    ac: 'addCustomer',\r\n    shop: customer.shop,\r\n    name: customer.name,\r\n    phone: customer.phone,\r\n    region: customer.region\r\n  }\r\n}\r\n\r\n// 修改客户\r\nexport function updateCustomer(customer) {\r\n  return {\r\n    ac: 'updateCustomer',\r\n    code: customer.code,\r\n    shop: customer.shop,\r\n    name: customer.name,\r\n    phone: customer.phone,\r\n    region: customer.region\r\n  }\r\n}\r\n\r\n// 删除客户\r\nexport function deleteCustomer(customer) {\r\n  return {\r\n    ac: 'deleteCustomer',\r\n    code: customer.code,\r\n  }\r\n}\r\n\r\n// 查找客户\r\nexport function findCustomer(searchText = '', searchType = '', offset = 0, limit = 30) {\r\n  return {\r\n    ac: 'findCustomer',\r\n    offset: offset,\r\n    limit: limit,\r\n    searchText: searchText,\r\n    searchType: searchType\r\n  }\r\n}\r\n"],"sourceRoot":""}