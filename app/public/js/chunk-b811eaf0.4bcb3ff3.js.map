{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.regexp.match.js","webpack:///./src/components/History.vue?296a","webpack:///./src/components/PrintOrders.vue?4540","webpack:///src/components/PrintOrders.vue","webpack:///./src/components/PrintOrders.vue?bbc0","webpack:///./src/components/PrintOrders.vue","webpack:///src/components/History.vue","webpack:///./src/components/History.vue?8ec0","webpack:///./src/components/History.vue","webpack:///./src/params/SaleP.js","webpack:///./src/common/lodop.js"],"names":["anObject","__webpack_require__","toLength","advanceStringIndex","regExpExec","defined","MATCH","$match","maybeCallNative","regexp","O","this","fn","undefined","call","RegExp","String","res","done","value","rx","S","global","fullUnicode","unicode","lastIndex","result","A","n","matchStr","render","_vm","_h","$createElement","_c","_self","staticStyle","padding-bottom","attrs","gutter","span","on","input","emptysDearchOrder","model","callback","$$v","inputText","expression","width","slot","transfer","on-change","searchTypeChange","searchType","key","_v","icon","click","findOrder","color","font-size","border","columns","titleList","data","tableData","scopedSlots","_u","ref","index","_s","formatDate","stateFormat","margin-right","type","size","$event","editModalClick","disabled","state","user","authority","substr","deleteModal","stateChange","loadMore","_e","title","closable","fullscreen","footer-hide","z-index","class-name","editModal","align","readonly","saveBtn","nativeOn","selectCustomerClick","orderData","$set","margin-left","countTotalNum","countTotalPrice","on-blur","formatRealPrice","code","order_write_code","saveSure","printOrder","editTitleList","orderItemList","selectCommodityClick","specifications","unitChange","formatItemPrice","countItemTotalPrice","deleteSaleModal","addItem","selectCustomerModal","emptysDearchCustomer","inputCustomerText","searchCustomerType","findCustomer","customerTitleList","customerList","row","selectCustomerModalBtn","loadCustomerMore","selectCommodityModal","emptysDearchCommodity","inputCommodityText","searchCommodityType","findCommodity","commodityTitleList","commodityList","selectCommodityModalBtn","loadCommodityMore","staticRenderFns","PrintOrdersvue_type_template_id_47e345da_scoped_true_render","directives","name","rawName","id","text-align","margin","margin-top","printOrderData","company","cellspacing","cellpadding","orders","order_num_code","shop","phone","border-collapse","_m","_l","orderItem","bar_code","weight","unit","num","price","colspan","price_up","address","bank","company_phone","business_phone","PrintOrdersvue_type_template_id_47e345da_scoped_true_staticRenderFns","PrintOrdersvue_type_script_lang_js_","create_time","computed","Object","Util","Date","Number","methods","startPrintOrders","_this","setTimeout","printPdf","LODOP","lodop","ADD_PRINT_HTM","document","getElementById","innerHTML","PREVIEW","created","components_PrintOrdersvue_type_script_lang_js_","component","componentNormalizer","PrintOrders","Historyvue_type_script_lang_js_","components","_ref","isCustomerShowMoreBtn","isCommodityShowMoreBtn","offset","limit","defineProperty","customer_code","order_delivery_code","real_price","mounted","_this2","EventBus","$on","_ref2","_this3","map","item","count","parseFloat","_this4","$Modal","confirm","content","onOk","$Spin","show","Http","SaleP","datas","msg","hide","$Message","success","error","onCancel","itemIndex","commodity_code","i","length","price_out","push","order_code","createTime","$message","splice","findOrderItem","_this5","isShowMoreBtn","order","CustomerP","CommodityP","saveOrder","$refs","printOrders","sessionStorage","getItem","JSON","parse","$router","components_Historyvue_type_script_lang_js_","History_component","__webpack_exports__","addOrder","ac","updateOrder","searchText","arguments","deleteOrder","getPrintOrders","d","CreatedOKLodop7766","needCLodop","ua","navigator","userAgent","match","verTrident","verIE","verOPR","verFF","x64","verChrome","err","head","getElementsByTagName","documentElement","oscript","createElement","src","insertBefore","firstChild","getLodop","oOBJECT","oEMBED","strHtmInstall","strHtmUpdate","strHtm64_Install","strHtm64_Update","strHtmFireFox","strHtmChrome","strCLodopUpdate","isIE","indexOf","getCLodop","readyState","alert","CLODOP","CVERSION","write","parentNode","removeChild","is64IE","setAttribute","appendChild","VERSION"],"mappings":"gHAEA,IAAIA,EAAWC,EAAQ,QACnBC,EAAWD,EAAQ,QACnBE,EAAqBF,EAAQ,QAC7BG,EAAaH,EAAQ,QAGzBA,EAAQ,OAARA,CAAyB,QAAS,EAAG,SAAUI,EAASC,EAAOC,EAAQC,GACrE,MAAO,CAGL,SAAeC,GACb,IAAIC,EAAIL,EAAQM,MACZC,OAAeC,GAAVJ,OAAsBI,EAAYJ,EAAOH,GAClD,YAAcO,IAAPD,EAAmBA,EAAGE,KAAKL,EAAQC,GAAK,IAAIK,OAAON,GAAQH,GAAOU,OAAON,KAIlF,SAAUD,GACR,IAAIQ,EAAMT,EAAgBD,EAAQE,EAAQE,MAC1C,GAAIM,EAAIC,KAAM,OAAOD,EAAIE,MACzB,IAAIC,EAAKpB,EAASS,GACdY,EAAIL,OAAOL,MACf,IAAKS,EAAGE,OAAQ,OAAOlB,EAAWgB,EAAIC,GACtC,IAAIE,EAAcH,EAAGI,QACrBJ,EAAGK,UAAY,EACf,IAEIC,EAFAC,EAAI,GACJC,EAAI,EAER,MAAwC,QAAhCF,EAAStB,EAAWgB,EAAIC,IAAc,CAC5C,IAAIQ,EAAWb,OAAOU,EAAO,IAC7BC,EAAEC,GAAKC,EACU,KAAbA,IAAiBT,EAAGK,UAAYtB,EAAmBkB,EAAGnB,EAASkB,EAAGK,WAAYF,IAClFK,IAEF,OAAa,IAANA,EAAU,KAAOD,O,2CCpC9B,IAAIG,EAAS,WAAa,IAAIC,EAAIpB,KAASqB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,CAACC,iBAAiB,QAAQC,MAAM,CAACC,OAAS,KAAK,CAACL,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,QAAQ,CAACO,GAAG,CAACC,MAAQX,EAAIY,mBAAmBC,MAAM,CAACzB,MAAOY,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAIgB,UAAUD,GAAKE,WAAW,cAAc,CAACd,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQX,MAAM,CAACY,KAAO,UAAUC,UAAW,GAAMV,GAAG,CAACW,YAAYrB,EAAIsB,kBAAkBH,KAAK,UAAUN,MAAM,CAACzB,MAAOY,EAAc,WAAEc,SAAS,SAAUC,GAAMf,EAAIuB,WAAWR,GAAKE,WAAW,eAAe,CAACd,EAAG,SAAS,CAACqB,IAAI,KAAKjB,MAAM,CAACnB,MAAQ,OAAO,CAACY,EAAIyB,GAAG,UAAUtB,EAAG,SAAS,CAACqB,IAAI,IAAIjB,MAAM,CAACnB,MAAQ,MAAM,CAACY,EAAIyB,GAAG,SAAStB,EAAG,SAAS,CAACqB,IAAI,IAAIjB,MAAM,CAACnB,MAAQ,MAAM,CAACY,EAAIyB,GAAG,UAAU,GAAGtB,EAAG,SAAS,CAACI,MAAM,CAACY,KAAO,SAASO,KAAO,cAAchB,GAAG,CAACiB,MAAQ3B,EAAI4B,WAAWT,KAAK,YAAY,IAAI,GAAGhB,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,OAAO,CAACE,YAAY,CAACwB,MAAQ,UAAUC,YAAY,SAAS,CAAC9B,EAAIyB,GAAG,YAAY,GAAGtB,EAAG,QAAQ,CAACI,MAAM,CAACwB,OAAS,GAAGC,QAAUhC,EAAIiC,UAAUC,KAAOlC,EAAImC,WAAWC,YAAYpC,EAAIqC,GAAG,CAAC,CAACb,IAAI,cAAc3C,GAAG,SAASyD,GACxmC,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACvC,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIyC,WAAWzC,EAAImC,UAAUI,SAAa,CAACf,IAAI,QAAQ3C,GAAG,SAASyD,GACzF,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACvC,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAI0C,YAAY1C,EAAImC,UAAUI,SAAa,CAACf,IAAI,SAAS3C,GAAG,SAASyD,GAC3F,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,SAAS,CAACE,YAAY,CAACsC,eAAe,OAAOpC,MAAM,CAACqC,KAAO,UAAUC,KAAO,SAASnC,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAI+C,eAAe/C,EAAImC,UAAUI,OAAW,CAACvC,EAAIyB,GAAG,QAAQtB,EAAG,SAAS,CAACE,YAAY,CAACsC,eAAe,OAAOpC,MAAM,CAACqC,KAAO,QAAQC,KAAO,QAAQG,SAAyC,GAA9BhD,EAAImC,UAAUI,GAAOU,OAAgD,GAAlCjD,EAAIkD,KAAKC,UAAUC,OAAO,EAAE,IAAS1C,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIqD,YAAYrD,EAAImC,UAAUI,OAAW,CAACvC,EAAIyB,GAAG,QAAQtB,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,QAAQC,KAAO,QAAQG,SAAyC,GAA9BhD,EAAImC,UAAUI,GAAOU,OAAgD,GAAlCjD,EAAIkD,KAAKC,UAAUC,OAAO,EAAE,IAAS1C,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIsD,YAAYtD,EAAImC,UAAUI,OAAW,CAACvC,EAAIyB,GAAG,eAAgBzB,EAAiB,cAAEG,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQR,GAAG,CAACiB,MAAQ3B,EAAIuD,WAAW,CAACvD,EAAIyB,GAAG,UAAUzB,EAAIwD,KAAKrD,EAAG,QAAQ,CAACI,MAAM,CAACkD,MAAQ,QAAQC,UAAW,EAAMC,WAAa,GAAGC,cAAc,GAAGF,SAAW,GAAGG,UAAU,GAAGC,aAAa,yBAAyBjD,MAAM,CAACzB,MAAOY,EAAa,UAAEc,SAAS,SAAUC,GAAMf,EAAI+D,UAAUhD,GAAKE,WAAW,cAAc,CAACd,EAAG,MAAM,CAACE,YAAY,CAACC,iBAAiB,QAAQC,MAAM,CAACC,OAAS,GAAGoC,KAAO,OAAOoB,MAAQ,WAAW,CAAC7D,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,QAAQ,CAACI,MAAM,CAAC0D,SAAW,GAAGjB,SAA0B,MAAfhD,EAAIkE,SAAiBC,SAAS,CAACxC,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIoE,oBAAoBtB,KAAUjC,MAAM,CAACzB,MAAOY,EAAIqE,UAAc,KAAEvD,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAW,OAAQtD,IAAME,WAAW,mBAAmB,CAACd,EAAG,OAAO,CAACI,MAAM,CAACY,KAAO,WAAWA,KAAK,WAAW,CAACnB,EAAIyB,GAAG,aAAa,GAAGtB,EAAG,MAAM,CAACE,YAAY,CAACkE,cAAc,QAAQhE,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,KAAK,CAACH,EAAIyB,GAAG,OAAOzB,EAAIwC,GAAGxC,EAAIwE,oBAAoBrE,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,KAAK,CAACH,EAAIyB,GAAG,gCAAgCtB,EAAG,OAAO,CAACE,YAAY,CAACwB,MAAQ,YAAY,CAAC7B,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIyE,wBAAwBtE,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,KAAK,CAACH,EAAIyB,GAAG,iCAAiCtB,EAAG,QAAQ,CAACE,YAAY,CAACwB,MAAQ,UAAUX,MAAQ,SAASX,MAAM,CAACqC,KAAO,SAASI,SAA0B,MAAfhD,EAAIkE,SAAiBxD,GAAG,CAACgE,UAAU1E,EAAI2E,iBAAiB9D,MAAM,CAACzB,MAAOY,EAAIqE,UAAoB,WAAEvD,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAW,aAActD,IAAME,WAAW,2BAA2B,KAAKd,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,UAAUI,SAAkC,GAAvBhD,EAAIqE,UAAUpB,OAAejD,EAAIkD,KAAK0B,MAAQ5E,EAAIqE,UAAUQ,kBAAkBnE,GAAG,CAACiB,MAAQ3B,EAAI8E,WAAW,CAAC9E,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIkE,aAAa,GAAG/D,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,UAAUI,SAA0B,MAAfhD,EAAIkE,SAAiBxD,GAAG,CAACiB,MAAQ3B,EAAI+E,aAAa,CAAC/E,EAAIyB,GAAG,SAAS,IAAI,GAAGtB,EAAG,QAAQ,CAACI,MAAM,CAACwB,OAAS,GAAGC,QAAUhC,EAAIgF,cAAc9C,KAAOlC,EAAIqE,UAAUY,eAAe7C,YAAYpC,EAAIqC,GAAG,CAAC,CAACb,IAAI,OAAO3C,GAAG,SAASyD,GACnpF,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,QAAQ,CAACI,MAAM,CAAC0D,SAAW,GAAGrB,KAAO,OAAOI,SAA0B,MAAfhD,EAAIkE,SAAiBC,SAAS,CAACxC,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIkF,qBAAqB3C,KAAS1B,MAAM,CAACzB,MAAOY,EAAIqE,UAAUY,cAAc1C,GAAW,KAAEzB,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAUY,cAAc1C,GAAQ,OAAQxB,IAAME,WAAW,4CAA4C,CAACO,IAAI,iBAAiB3C,GAAG,SAASyD,GACvY,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACvC,EAAIyB,GAAG,OAAOzB,EAAIwC,GAAGxC,EAAIqE,UAAUY,cAAc1C,GAAO4C,oBAAoB,CAAC3D,IAAI,OAAO3C,GAAG,SAASyD,GAC5G,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,SAAS,CAACI,MAAM,CAACyC,SAA0B,MAAfhD,EAAIkE,QAAgB9C,UAAW,GAAMV,GAAG,CAACW,YAAY,SAASyB,GAAQ,OAAO9C,EAAIoF,WAAWpF,EAAIqE,UAAUY,cAAc1C,MAAU1B,MAAM,CAACzB,MAAOY,EAAIqE,UAAUY,cAAc1C,GAAW,KAAEzB,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAUY,cAAc1C,GAAQ,OAAQxB,IAAME,WAAW,wCAAwC,CAACd,EAAG,SAAS,CAACqB,IAAI,IAAIjB,MAAM,CAACnB,MAAQ,MAAM,CAACY,EAAIyB,GAAG,OAAOtB,EAAG,SAAS,CAACqB,IAAI,IAAIjB,MAAM,CAACnB,MAAQ,MAAM,CAACY,EAAIyB,GAAG,QAAQ,MAAM,CAACD,IAAI,MAAM3C,GAAG,SAASyD,GACxf,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,QAAQ,CAACI,MAAM,CAACqC,KAAO,SAASI,SAA0B,MAAfhD,EAAIkE,SAAiBrD,MAAM,CAACzB,MAAOY,EAAIqE,UAAUY,cAAc1C,GAAU,IAAEzB,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAUY,cAAc1C,GAAQ,MAAOxB,IAAME,WAAW,2CAA2C,CAACO,IAAI,QAAQ3C,GAAG,SAASyD,GACnS,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,QAAQ,CAACI,MAAM,CAACqC,KAAO,SAASI,SAA0B,MAAfhD,EAAIkE,SAAiBxD,GAAG,CAACgE,UAAU,SAAS5B,GAAQ,OAAO9C,EAAIqF,gBAAgBrF,EAAIqE,UAAUY,cAAc1C,MAAU1B,MAAM,CAACzB,MAAOY,EAAIqE,UAAUY,cAAc1C,GAAY,MAAEzB,SAAS,SAAUC,GAAMf,EAAIsE,KAAKtE,EAAIqE,UAAUY,cAAc1C,GAAQ,QAASxB,IAAME,WAAW,6CAA6C,CAACO,IAAI,cAAc3C,GAAG,SAASyD,GAC/Y,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACvC,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIsF,oBAAoBtF,EAAIqE,UAAUY,cAAc1C,SAAa,CAACf,IAAI,SAAS3C,GAAG,SAASyD,GACjH,IAAIC,EAAQD,EAAIC,MAChB,MAAO,CAACpC,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,QAAQC,KAAO,QAAQG,SAA0B,MAAfhD,EAAIkE,SAAiBxD,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIuF,gBAAgBhD,MAAU,CAACvC,EAAIyB,GAAG,eAAetB,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQX,MAAM,CAACsC,KAAO,QAAQG,SAA0B,MAAfhD,EAAIkE,SAAiBxD,GAAG,CAACiB,MAAQ3B,EAAIwF,UAAU,CAACxF,EAAIyB,GAAG,WAAW,GAAGtB,EAAG,QAAQ,CAACI,MAAM,CAACkD,MAAQ,QAAQC,UAAW,EAAMC,WAAa,GAAGC,cAAc,GAAGF,SAAW,GAAGI,aAAa,yBAAyBjD,MAAM,CAACzB,MAAOY,EAAuB,oBAAEc,SAAS,SAAUC,GAAMf,EAAIyF,oBAAoB1E,GAAKE,WAAW,wBAAwB,CAACd,EAAG,MAAM,CAACE,YAAY,CAACC,iBAAiB,QAAQC,MAAM,CAACC,OAAS,KAAK,CAACL,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,QAAQ,CAACO,GAAG,CAACC,MAAQX,EAAI0F,sBAAsB7E,MAAM,CAACzB,MAAOY,EAAqB,kBAAEc,SAAS,SAAUC,GAAMf,EAAI2F,kBAAkB5E,GAAKE,WAAW,sBAAsB,CAACd,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQX,MAAM,CAACY,KAAO,WAAWA,KAAK,UAAUN,MAAM,CAACzB,MAAOY,EAAsB,mBAAEc,SAAS,SAAUC,GAAMf,EAAI4F,mBAAmB7E,GAAKE,WAAW,uBAAuB,CAACd,EAAG,SAAS,CAACI,MAAM,CAACnB,MAAQ,SAAS,CAACY,EAAIyB,GAAG,UAAUtB,EAAG,SAAS,CAACI,MAAM,CAACnB,MAAQ,SAAS,CAACY,EAAIyB,GAAG,UAAUtB,EAAG,SAAS,CAACI,MAAM,CAACnB,MAAQ,UAAU,CAACY,EAAIyB,GAAG,WAAW,GAAGtB,EAAG,SAAS,CAACI,MAAM,CAACY,KAAO,SAASO,KAAO,cAAchB,GAAG,CAACiB,MAAQ3B,EAAI6F,cAAc1E,KAAK,YAAY,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAACI,MAAM,CAACwB,OAAS,GAAGC,QAAUhC,EAAI8F,kBAAkB5D,KAAOlC,EAAI+F,cAAc3D,YAAYpC,EAAIqC,GAAG,CAAC,CAACb,IAAI,SAAS3C,GAAG,SAASyD,GACl9C,IAAI0D,EAAM1D,EAAI0D,IACd,MAAO,CAAC7F,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,UAAUC,KAAO,SAASnC,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAIiG,uBAAuBD,MAAQ,CAAChG,EAAIyB,GAAG,eAAgBzB,EAAyB,sBAAEG,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQR,GAAG,CAACiB,MAAQ3B,EAAIkG,mBAAmB,CAAClG,EAAIyB,GAAG,UAAUzB,EAAIwD,MAAM,GAAGrD,EAAG,QAAQ,CAACI,MAAM,CAACkD,MAAQ,QAAQC,UAAW,EAAMC,WAAa,GAAGC,cAAc,GAAGF,SAAW,GAAGI,aAAa,yBAAyBjD,MAAM,CAACzB,MAAOY,EAAwB,qBAAEc,SAAS,SAAUC,GAAMf,EAAImG,qBAAqBpF,GAAKE,WAAW,yBAAyB,CAACd,EAAG,MAAM,CAACE,YAAY,CAACC,iBAAiB,QAAQC,MAAM,CAACC,OAAS,KAAK,CAACL,EAAG,MAAM,CAACI,MAAM,CAACE,KAAO,MAAM,CAACN,EAAG,QAAQ,CAACO,GAAG,CAACC,MAAQX,EAAIoG,uBAAuBvF,MAAM,CAACzB,MAAOY,EAAsB,mBAAEc,SAAS,SAAUC,GAAMf,EAAIqG,mBAAmBtF,GAAKE,WAAW,uBAAuB,CAACd,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQX,MAAM,CAACY,KAAO,WAAWA,KAAK,UAAUN,MAAM,CAACzB,MAAOY,EAAuB,oBAAEc,SAAS,SAAUC,GAAMf,EAAIsG,oBAAoBvF,GAAKE,WAAW,wBAAwB,CAACd,EAAG,SAAS,CAACI,MAAM,CAACnB,MAAQ,SAAS,CAACY,EAAIyB,GAAG,UAAUtB,EAAG,SAAS,CAACI,MAAM,CAACnB,MAAQ,aAAa,CAACY,EAAIyB,GAAG,UAAU,GAAGtB,EAAG,SAAS,CAACI,MAAM,CAACY,KAAO,SAASO,KAAO,cAAchB,GAAG,CAACiB,MAAQ3B,EAAIuG,eAAepF,KAAK,YAAY,IAAI,IAAI,GAAGhB,EAAG,QAAQ,CAACI,MAAM,CAACwB,OAAS,GAAGC,QAAUhC,EAAIwG,mBAAmBtE,KAAOlC,EAAIyG,eAAerE,YAAYpC,EAAIqC,GAAG,CAAC,CAACb,IAAI,SAAS3C,GAAG,SAASyD,GAC14C,IAAI0D,EAAM1D,EAAI0D,IACd,MAAO,CAAC7F,EAAG,SAAS,CAACI,MAAM,CAACqC,KAAO,UAAUC,KAAO,SAASnC,GAAG,CAACiB,MAAQ,SAASmB,GAAQ,OAAO9C,EAAI0G,wBAAwBV,MAAQ,CAAChG,EAAIyB,GAAG,eAAgBzB,EAA0B,uBAAEG,EAAG,SAAS,CAACE,YAAY,CAACa,MAAQ,QAAQR,GAAG,CAACiB,MAAQ3B,EAAI2G,oBAAoB,CAAC3G,EAAIyB,GAAG,UAAUzB,EAAIwD,MAAM,GAAGrD,EAAG,cAAc,CAACmC,IAAI,iBAAiB,IACzUsE,EAAkB,G,0GCzBlBC,EAAS,WAAa,IAAI7G,EAAIpB,KAASqB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,OAAO,CAAC2G,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAAS5H,OAAM,EAAQ6B,WAAW,UAAUV,MAAM,CAAC0G,GAAK,cAAc,CAAC9G,EAAG,MAAM,CAACE,YAAY,CAAC6G,aAAa,SAASC,OAAS,OAAOjG,MAAQ,UAAU,CAACf,EAAG,MAAMA,EAAG,MAAM,CAACE,YAAY,CAACyB,YAAY,OAAOsF,aAAa,SAAS,CAACpH,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIqH,eAAeC,QAAQP,MAAM,SAAS5G,EAAG,MAAMA,EAAG,QAAQ,CAACE,YAAY,CAACa,MAAQ,OAAOkG,aAAa,MAAMtF,YAAY,QAAQvB,MAAM,CAACgH,YAAc,IAAIC,YAAc,IAAIzF,OAAS,MAAM,CAAC5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,SAAS,CAAClH,EAAIyB,GAAG,QAAQzB,EAAIwC,GAAGxC,EAAIyC,WAAWzC,EAAIqH,eAAeI,YAAYtH,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,UAAU,CAAClH,EAAIyB,GAAG,QAAQzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOC,qBAAqBvH,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,SAAS,CAAClH,EAAIyB,GAAG,QAAQzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOE,SAASxH,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,UAAU,CAAClH,EAAIyB,GAAG,MAAMzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOG,cAAczH,EAAG,QAAQ,CAACE,YAAY,CAACwH,kBAAkB,WAAW3G,MAAQ,OAAOkG,aAAa,MAAMF,aAAa,SAASpF,YAAY,QAAQvB,MAAM,CAACgH,YAAc,IAAIC,YAAc,IAAIzF,OAAS,MAAM,CAAC/B,EAAI8H,GAAG,GAAG9H,EAAI+H,GAAI/H,EAAIqH,eAAeI,OAAoB,cAAE,SAASO,EAAUzF,GAAO,MAAO,CAACpC,EAAG,KAAK,CAACA,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGD,EAAM,MAAMpC,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUC,aAAa9H,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUjB,SAAS5G,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUE,WAAW/H,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUG,SAAShI,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUI,QAAQjI,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUK,UAAUlI,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGwF,EAAUI,IAAMJ,EAAUK,UAAUlI,EAAG,WAAWA,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,QAAQ3G,MAAM,CAAC+H,QAAU,MAAM,CAACtI,EAAIyB,GAAG,WAAWzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOc,aAAapI,EAAG,KAAK,CAACH,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOW,QAAQjI,EAAG,KAAK,CAACH,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,QAAQ3G,MAAM,CAAC+H,QAAU,MAAM,CAACtI,EAAIyB,GAAG,IAAIzB,EAAIwC,GAAGxC,EAAIqH,eAAeI,OAAOY,aAAa,GAAGlI,EAAG,QAAQ,CAACE,YAAY,CAACa,MAAQ,OAAOY,YAAY,OAAOsF,aAAa,OAAO7G,MAAM,CAACgH,YAAc,IAAIC,YAAc,IAAIzF,OAAS,MAAM,CAAC5B,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,SAAS,CAAClH,EAAIyB,GAAG,MAAMzB,EAAIwC,GAAGxC,EAAIqH,eAAeC,QAAQkB,YAAYrI,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,UAAU,CAAClH,EAAIyB,GAAGzB,EAAIwC,GAAGxC,EAAIqH,eAAeC,QAAQmB,WAAWtI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,SAAS,CAAClH,EAAIyB,GAAG,QAAQzB,EAAIwC,GAAGxC,EAAIqH,eAAeC,QAAQoB,oBAAoBvI,EAAG,KAAK,CAACA,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,SAAS,CAAClH,EAAIyB,GAAG,QAAQzB,EAAIwC,GAAGxC,EAAIqH,eAAeC,QAAQqB,mBAAmBxI,EAAG,KAAK,CAACE,YAAY,CAAC6G,aAAa,UAAU,CAAClH,EAAIyB,GAAG,oDACxnFmH,EAAkB,CAAC,WAAa,IAAI5I,EAAIpB,KAASqB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,KAAK,CAACA,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,QAAQ,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,QAAQ,CAAClB,EAAIyB,GAAG,UAAUtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,OAAO,CAAClB,EAAIyB,GAAG,QAAQtB,EAAG,KAAK,CAACI,MAAM,CAACW,MAAQ,QAAQ,CAAClB,EAAIyB,GAAG,Y,YC0FvhBoH,EAAA,CACE9B,KAAM,cACN7E,KAFF,WAGI,MAAO,CACLmF,eAAgB,CACdC,QAAS,CACPP,KAAM,GACNyB,QAAS,GACTC,KAAM,GACNC,cAAe,GACfC,eAAgB,IAElBlB,OAAQ,CACNqB,YAAa,GACbpB,eAAgB,GAChBC,KAAM,GACNC,MAAO,GACPQ,IAAK,EACLC,MAAO,GACPE,SAAU,GACVtD,cAAe,CACzB,CACYgD,SAAZ,GACYlB,KAAZ,GACYmB,OAAZ,GACYC,KAAZ,GACYC,IAAZ,EACYC,MAAZ,SAOEU,SAAU,CAERtG,WAFJ,SAEAuD,GACM,OAAO,SAAbA,GACQ,OAAOgD,OAAfC,EAAA,KAAeD,CAAf,IAAAE,KAAAC,OAAAnD,EAAA8C,cAAA,iBAIEM,QAAS,CAEPC,iBAFJ,SAEAhC,GACM,IAANiC,EAAA1K,KACMA,KAAKyI,eAAiBA,EACtBkC,WAAW,WACTD,EAAME,YACd,QAGIA,SAVJ,WAWM,IAANC,EAAAT,OAAAU,EAAA,KAAAV,GACMS,EAAME,cACZ,EACA,EACA,OACA,OACAC,SAAAC,eAAA,aAAAC,WAEML,EAAMM,YAIVC,QAjEF,cC3FqVC,EAAA,E,YCOjVC,EAAYlB,OAAAmB,EAAA,KAAAnB,CACdiB,EACApD,EACA+B,GACA,EACA,KACA,WACA,MAIawB,EAAAF,E,QCgPfG,EAAA,CACEtD,KAAM,UACNuD,WAAY,CACVF,YAAJA,GAEElI,KALF,WAKA,IAAAqI,EACI,OAAOA,EAAX,CACMrH,KAAM,GACNgB,QAAS,KACTyB,kBAAmB,GACnBC,mBAAoB,OACpBE,kBAAmB,CACzB,CACQlD,KAAR,QACQ1B,MAAR,GACQ8C,MAAR,UAEA,CACQP,MAAR,OACQjC,IAAR,QAEA,CACQiC,MAAR,OACQjC,IAAR,QAEA,CACQiC,MAAR,OACQjC,IAAR,SAEA,CACQiC,MAAR,KACQjC,IAAR,UAEA,CACQiC,MAAR,KACQtC,KAAR,SACQ6C,MAAR,WAGM+B,aAAc,GACdyE,uBAAuB,EACvB/E,qBAAqB,EAErBY,mBAAoB,GACpBC,oBAAqB,OACrBE,mBAAoB,CAC1B,CACQ5D,KAAR,QACQ1B,MAAR,GACQ8C,MAAR,UAEA,CACQP,MAAR,OACQjC,IAAR,WAEA,CACQiC,MAAR,OACQjC,IAAR,QAEA,CACQiC,MAAR,OACQjC,IAAR,UAEA,CACQiC,MAAR,OACQjC,IAAR,kBAEA,CACQiC,MAAR,MACQjC,IAAR,QAEA,CACQiC,MAAR,MACQjC,IAAR,YAEA,CACQiC,MAAR,MACQjC,IAAR,UAEA,CACQiC,MAAR,OACQjC,IAAR,YAEA,CACQiC,MAAR,OACQjC,IAAR,aAEA,CACQiC,MAAR,OACQjC,IAAR,kBAEA,CACQiC,MAAR,KACQjC,IAAR,SAEA,CACQiC,MAAR,KACQtC,KAAR,SACQ6C,MAAR,WAGMyC,cAAe,GACfgE,wBAAwB,EACxBtE,sBAAsB,EAEtBuE,OAAQ,EACRC,MAAO,GACP1G,UAAU,EAEVF,WAAW,GAvGjBiF,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,SAwGA,GAxGAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,QAyGA,IAzGAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,iBA0GA,GA1GAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,aA2GA,MA3GAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,YA4GA,IA5GAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,YA6GA,CACA,CACM3H,KAAN,QACM1B,MAAN,GACM8C,MAAN,UAEA,CACMP,MAAN,OACMjC,IAAN,QAEA,CACMiC,MAAN,KACMjC,IAAN,OAEA,CACMiC,MAAN,KACMjC,IAAN,SAEA,CACMiC,MAAN,KACMtC,KAAN,SAEA,CACMsC,MAAN,OACMtC,KAAN,eAEA,CACMsC,MAAN,KACMtC,KAAN,SACM6C,MAAN,YA1IAgF,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,gBA6IA,CACA,CACM3H,KAAN,QACM1B,MAAN,GACM8C,MAAN,UAEA,CACMP,MAAN,OACMtC,KAAN,QAEA,CACMsC,MAAN,MACMjC,IAAN,YAEA,CACMiC,MAAN,KACMtC,KAAN,kBAEA,CACMsC,MAAN,KACMtC,KAAN,QAEA,CACMsC,MAAN,KACMtC,KAAN,OAEA,CACMsC,MAAN,KACMtC,KAAN,SAEA,CACMsC,MAAN,KACMtC,KAAN,eAEA,CACMsC,MAAN,KACMtC,KAAN,SACM6C,MAAN,YAlLAgF,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,YAsLA,IAtLAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,YAuLA,GAvLAvB,OAAA4B,EAAA,KAAA5B,CAAAuB,EAAA,YAwLA,CACM3F,KAAN,GACMiG,cAAN,GACMnD,eAAN,GACMoD,oBAAN,GACMjG,iBAAN,GACMuD,IAAN,EACMC,MAAN,GACME,SAAN,GACMZ,KAAN,GACM1E,MAAN,EACM8H,WAAN,OACMjC,YAAN,GACM7D,cAAN,KArMAsF,GAyMES,QA/MF,WA+MA,IAAAC,EAAArM,KACIsM,EAAJ,KAAAC,IAAA,oBAAAC,KAAAxG,KACMqG,EAANrJ,eAIEmH,SAAU,CAERpE,gBAFJ,WAGM,IAAN2E,EAAA1K,KACM,OAAO,WACL0K,EAAMjF,UAAU0G,WAAa/B,OAArCC,EAAA,KAAqCD,CACrCM,EAAAjF,UAAA0G,cAKI1F,gBAXJ,SAWAW,GAEM,OAAO,SAAbA,GACQA,EAAIqC,MAAQW,OAApBC,EAAA,KAAoBD,CAApBhD,EAAAqC,SAII/C,oBAlBJ,SAkBAU,GACM,OAAO,SAAbA,GACQ,OAAOgD,OAAfC,EAAA,KAAeD,CAAfhD,EAAAoC,IAAApC,EAAAqC,SAII7D,cAxBJ,WAwBA,IAAA6G,EAAAzM,KAKM,OAJAA,KAAKyF,UAAU+D,IAAM,EACrBxJ,KAAKyF,UAAUY,cAAcqG,IAAI,SAAvCC,EAAAhJ,GACQ8I,EAARhH,UAAA+D,KAAA,EAAAmD,EAAAnD,MAEaxJ,KAAKyF,UAAU+D,KAGxB3D,gBAhCJ,WAiCM,IAAI+G,EAAQ,EAKZ,OAJA5M,KAAKyF,UAAUY,cAAcqG,IAAI,SAAvCC,EAAAhJ,GACQiJ,GAASC,WAAWF,EAAKlD,MAAQkD,EAAKnD,OAExCxJ,KAAKyF,UAAUgE,MAAQW,OAA7BC,EAAA,KAA6BD,CAA7BwC,GACa5M,KAAKyF,UAAUgE,OAGxB5F,WAzCJ,SAyCAuD,GACM,OAAO,SAAbA,GACQ,OAAOgD,OAAfC,EAAA,KAAeD,CAAf,IAAAE,KAAAC,OAAAnD,EAAA8C,cAAA,gBAIIpG,YA/CJ,SA+CAsD,GACM,OAAO,SAAbA,GAWQ,OAAQA,EAAI/C,OACV,KAAK,EACH,MAAO,MACT,KAAK,EACH,MAAO,UAKjBmG,QAAS,CAEP9F,YAFJ,SAEA0C,GAAA,IAAA0F,EAAA9M,KACA0K,EAAA1K,KACMA,KAAK+M,OAAOC,QAAQ,CAClBnI,MAAO,KACPoI,QAAS,WACTC,KAAM,WACJ9F,EAAI/C,MAAQ,EACZyI,EAAVK,MAAAC,OACUhD,OAAViD,EAAA,KAAUjD,CACVA,OAAAkD,EAAA,KAAAlD,CAAAhD,GACA,SAAAmG,GACA,IAAAA,EAAAC,KACc9C,EAAdyC,MAAAM,OACc/C,EAAdgD,SAAAC,QAAA,QACcjD,EAAdoB,OAAA,EACcpB,EAAd1H,cAEc0H,EAAdyC,MAAAM,OACc/C,EAAdgD,SAAAE,MAAAL,EAAAK,SAGA,SAAAA,GACYlD,EAAZyC,MAAAM,OACY/C,EAAZgD,SAAAE,YAIQC,SAAU,gBAId/G,qBAjCJ,WAkCqC,KAA3B9G,KAAK+G,oBACP/G,KAAK8L,OAAS,EACd9L,KAAKiH,iBAITK,iBAxCJ,WAyCMtH,KAAK8L,SACL9L,KAAKiH,gBAGPI,uBA7CJ,SA6CAD,GACMpH,KAAKyF,UAAUwG,cAAgB7E,EAAIpB,KACnChG,KAAKyF,UAAUsD,KAAO3B,EAAI2B,KAC1B/I,KAAK6G,qBAAsB,EAC3B7G,KAAK+G,kBAAoB,GACzB/G,KAAKgH,mBAAqB,QAI5BQ,sBAtDJ,WAuDsC,KAA5BxH,KAAKyH,qBACPzH,KAAK8L,OAAS,EACd9L,KAAK2H,kBAITI,kBA7DJ,WA8DM/H,KAAK8L,SACL9L,KAAK2H,iBAGPG,wBAlEJ,SAkEAV,GACM,IAANgC,EAAApJ,KAAAyF,UAAAY,cAAArG,KAAA8N,WACM,GAAI1E,EAAU2E,gBAAkB3G,EAAIpB,KAClC,IAAK,IAAIgI,EAAI,EAAGA,EAAIhO,KAAKyF,UAAUY,cAAc4H,OAAQD,IACvD,GAAI5G,EAAIpB,OAAShG,KAAKyF,UAAUY,cAAc2H,GAAGD,eAE/C,YADA/N,KAAK0N,SAASE,MAAM,aAK1BxE,EAAU2E,eAAiB3G,EAAIpB,KAC/BoD,EAAUC,SAAWjC,EAAIiC,SACzBD,EAAU7C,eAAiBa,EAAIb,eAC/B6C,EAAUK,MAAQrC,EAAI8G,UACtB9E,EAAUG,KAAO,IACjBH,EAAUjB,KAAOf,EAAIe,KACrBnI,KAAKuH,sBAAuB,EAC5BvH,KAAKyH,mBAAqB,GAC1BzH,KAAK0H,oBAAsB,QAG7Bd,QAvFJ,WAyFA,GAAA5G,KAAAyF,UAAAY,cAAA4H,QAEA,IADAjO,KAAAyF,UAAAY,cAAArG,KAAAyF,UAAAY,cAAA4H,OAAA,GACAF,eAKM/N,KAAKyF,UAAUY,cAAc8H,KAAK,CAChCnI,KAAM,GACNoI,WAAY,GACZL,eAAgB,GAChBvE,IAAK,EACLH,SAAU,GACVE,KAAM,IACNE,MAAO,OACPlD,eAAgB,EAChB4B,KAAM,GACNkG,WAAY,KAbZrO,KAAKsO,SAASV,MAAM,0BAiBxBjH,gBA9GJ,SA8GAhD,GACM,IAAN+G,EAAA1K,KACMA,KAAK+M,OAAOC,QAAQ,CAClBnI,MAAO,KACPoI,QAAS,WACTC,KAAM,WACwC,GAAxCxC,EAAMjF,UAAUY,cAAc4H,OAIlCvD,EAAMjF,UAAUY,cAAckI,OAAO5K,EAAO,GAH1C+G,EAAMgD,SAASE,MAAM,gBAKzBC,SAAU,gBAIdvH,qBA9HJ,SA8HA3C,GAC0B,MAAhB3D,KAAKsF,UAGTtF,KAAK8L,OAAS,EACd9L,KAAK8N,UAAYnK,EACjB3D,KAAK2H,gBACL3H,KAAKuH,sBAAuB,IAG9B/B,oBAxIJ,WAyI0B,MAAhBxF,KAAKsF,UAGTtF,KAAK8L,OAAS,EACd9L,KAAKiH,eACLjH,KAAK6G,qBAAsB,IAI7B1C,eAlJJ,SAkJAiD,GACMpH,KAAKsF,QAAU,KACftF,KAAKyF,UAAUO,KAAOoB,EAAIpB,KAC1BhG,KAAKyF,UAAUwG,cAAgB7E,EAAI6E,cACnCjM,KAAKyF,UAAUqD,eAAiB1B,EAAI0B,eACpC9I,KAAKyF,UAAUyG,oBAAsB9E,EAAI8E,oBACzClM,KAAKyF,UAAUQ,iBAAmBmB,EAAInB,iBACtCjG,KAAKyF,UAAU+D,IAAMpC,EAAIoC,IACzBxJ,KAAKyF,UAAUgE,MAAQrC,EAAIqC,MAC3BzJ,KAAKyF,UAAUkE,SAAWvC,EAAIuC,SAC9B3J,KAAKyF,UAAUsD,KAAO3B,EAAI2B,KAC1B/I,KAAKyF,UAAUpB,MAAQ+C,EAAI/C,MAC3BrE,KAAKyF,UAAU0G,WAAa/E,EAAI+E,WAChCnM,KAAKyF,UAAUyE,YAAc9C,EAAI8C,YACjClK,KAAKwO,cAAcpH,GACnBpH,KAAKmF,WAAY,GAGnBzC,iBApKJ,WAqKM1C,KAAKgD,aAGPyB,YAxKJ,SAwKA2C,GAAA,IAAAqH,EAAAzO,KACA0K,EAAA1K,KACMA,KAAK+M,OAAOC,QAAQ,CAClBnI,MAAO,KACPoI,QAAS,WACTC,KAAM,WACJuB,EAAVtB,MAAAC,OACUhD,OAAViD,EAAA,KAAUjD,CACVA,OAAAkD,EAAA,KAAAlD,CAAAhD,GACA,SAAAmG,GACA,IAAAA,EAAAC,KACc9C,EAAdyC,MAAAM,OACc/C,EAAdgD,SAAAC,QAAA,QACcjD,EAAdoB,OAAA,EACcpB,EAAd1H,cAEc0H,EAAdyC,MAAAM,OACc/C,EAAdgD,SAAAE,MAAAL,EAAAK,SAGA,SAAAA,GACYlD,EAAZyC,MAAAM,OACY/C,EAAZgD,SAAAE,YAIQC,SAAU,gBAIdlJ,SAtMJ,WAuMM3E,KAAK8L,SACL9L,KAAKgD,aAGPhB,kBA3MJ,WA4M6B,KAAnBhC,KAAKoC,YACPpC,KAAK8L,OAAS,EACd9L,KAAKgD,cAITA,UAlNJ,WAmNM,IAAN0H,EAAA1K,KACMA,KAAKmN,MAAMC,OACXhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAkD,EAAA,KAAAlD,CAAAM,EAAAtI,UAAAsI,EAAA/H,WAAA+H,EAAAoB,OAAApB,EAAAqB,OACA,SAAAwB,GACQ,GAAR,IAAAA,EAAAC,IAAA,CAMU,GALVD,EAAAjK,KAAA2K,OAAAvD,EAAAqB,MACYrB,EAAZgE,eAAA,EAEYhE,EAAZgE,eAAA,EAEA,GAAAhE,EAAAoB,OACYpB,EAAZnH,UAAAgK,EAAAjK,UAEY,IAAZ,IAAA0K,EAAA,EAAAA,EAAAT,EAAAjK,KAAA2K,OAAAD,IACctD,EAAdnH,UAAA4K,KAAAZ,EAAAjK,KAAA0K,IAGUtD,EAAVyC,MAAAM,YAEU/C,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,QAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,YAKIY,cAlPJ,SAkPAG,GACM,IAANjE,EAAA1K,KACMA,KAAKmN,MAAMC,OACXhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAkD,EAAA,KAAAlD,CAAAuE,GACA,SAAApB,GACA,IAAAA,EAAAC,KACU9C,EAAVjF,UAAAY,cAAAkH,EAAAjK,KACUoH,EAAVyC,MAAAM,SAEU/C,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,SAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,YAKI3G,aAvQJ,WAwQM,IAANyD,EAAA1K,KACM0K,EAAMyC,MAAMC,OACZhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAwE,EAAA,KAAAxE,CACAM,EAAA3D,kBACA2D,EAAA1D,mBACA0D,EAAAoB,OACApB,EAAAqB,OAEA,SAAAwB,GACQ,GAAR,IAAAA,EAAAC,IAAA,CAMU,GALVD,EAAAjK,KAAA2K,OAAAvD,EAAAqB,MACYrB,EAAZkB,uBAAA,EAEYlB,EAAZkB,uBAAA,EAEA,GAAAlB,EAAAoB,OACYpB,EAAZvD,aAAAoG,EAAAjK,UAEY,IAAZ,IAAA0K,EAAA,EAAAA,EAAAT,EAAAjK,KAAA2K,OAAAD,IACctD,EAAdvD,aAAAgH,KAAAZ,EAAAjK,KAAA0K,IAGUtD,EAAVyC,MAAAM,YAEU/C,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,QAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,YAKIjG,cA5SJ,WA6SM,IAAN+C,EAAA1K,KACMA,KAAKmN,MAAMC,OACXhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAyE,EAAA,KAAAzE,CACAM,EAAAjD,mBACAiD,EAAAhD,oBACAgD,EAAAoB,OACApB,EAAAqB,OAEA,SAAAwB,GACQ,GAAR,IAAAA,EAAAC,IAAA,CAMU,GALVD,EAAAjK,KAAA2K,OAAAvD,EAAAqB,MACYrB,EAAZmB,wBAAA,EAEYnB,EAAZmB,wBAAA,EAEA,GAAAnB,EAAAoB,OACYpB,EAAZ7C,cAAA0F,EAAAjK,UAEY,IAAZ,IAAA0K,EAAA,EAAAA,EAAAT,EAAAjK,KAAA2K,OAAAD,IACctD,EAAd7C,cAAAsG,KAAAZ,EAAAjK,KAAA0K,IAGUtD,EAAVyC,MAAAM,YAEU/C,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,QAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,YAMIpH,WAlVJ,SAkVAY,GACuB,MAAbA,EAAImC,KACqB,IAAvBnC,EAAIb,eACNa,EAAIqC,MAAQW,OAAtBC,EAAA,KAAsBD,CAAtB,GAEUhD,EAAIqC,MAAQW,OAAtBC,EAAA,KAAsBD,CAAtBhD,EAAAqC,MAAArC,EAAAb,gBAGQa,EAAIqC,MAAQW,OAApBC,EAAA,KAAoBD,CAApBhD,EAAAqC,MAAArC,EAAAb,iBAIIL,SA9VJ,WAgWM,IAANwE,EAAA1K,KAC0B,MAAhBA,KAAKsF,QACPtF,KAAKsF,QAAU,KAEftF,KAAK+M,OAAOC,QAAQ,CAClBnI,MAAO,KACPoI,QAAS,WACTC,KAAM,WACJxC,EAAMoE,aAERjB,SAAU,gBAKhBiB,UA/WJ,WAiXM,GACN,MAAA9O,KAAAyF,UAAAwG,eACA,KAAAjM,KAAAyF,UAAAwG,cAMM,GACN,MAAAjM,KAAAyF,UAAAQ,kBACA,KAAAjG,KAAAyF,UAAAQ,iBAMM,GAA4B,MAAxBjG,KAAKyF,UAAUpB,MAKnB,GACN,MAAArE,KAAAyF,UAAAY,eACA,IAAArG,KAAAyF,UAAAY,cAAA4H,OAFM,CAOA,IAAK,IAAID,EAAI,EAAGA,EAAIhO,KAAKyF,UAAUY,cAAc4H,OAAQD,IAAK,CAC5D,GACR,MAAAhO,KAAAyF,UAAAY,cAAA2H,GAAAD,gBACA,IAAA/N,KAAAyF,UAAAY,cAAA2H,GAAAD,eAGU,YADA/N,KAAK0N,SAASE,MAAM,YAGtB,GACR,MAAA5N,KAAAyF,UAAAY,cAAA2H,GAAAxE,KACA,GAAAxJ,KAAAyF,UAAAY,cAAA2H,GAAAxE,IAGU,YADAxJ,KAAK0N,SAASE,MAAM,cAIxB,IAANlD,EAAA1K,KACM0K,EAAMyC,MAAMC,OACZhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAkD,EAAA,KAAAlD,CAAApK,KAAAyF,WACA,SAAA8H,GACA,IAAAA,EAAAC,KACU9C,EAAVgD,SAAAC,QAAA,QACUjD,EAAVyC,MAAAM,OACU/C,EAAVpF,QAAA,KACUoF,EAAV1H,cAEU0H,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,SAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,gBApCQ5N,KAAK0N,SAASE,MAAM,eARpB5N,KAAK0N,SAASE,MAAM,eALpB5N,KAAK0N,SAASE,MAAM,cARpB5N,KAAK0N,SAASE,MAAM,UA8DxBzH,WAnbJ,WAobM,IAANuE,EAAA1K,KACM0K,EAAMyC,MAAMC,OACZhD,OAANiD,EAAA,KAAMjD,CACNA,OAAAkD,EAAA,KAAAlD,CAAApK,KAAAyF,WACA,SAAA8H,GACA,IAAAA,EAAAC,KACU9C,EAAVqE,MAAAC,YAAAvE,iBAAA8C,EAAAjK,MACUoH,EAAVyC,MAAAM,SAEU/C,EAAVyC,MAAAM,OACU/C,EAAVgD,SAAAE,MAAAL,EAAAK,SAGA,SAAAA,GACQlD,EAARyC,MAAAM,OACQ/C,EAARgD,SAAAE,aAKExC,QAjuBF,WAmuB0C,MAAlC6D,eAAeC,QAAQ,SAI3BlP,KAAKsE,KAAO6K,KAAKC,MAAMH,eAAeC,QAAQ,SAC9ClP,KAAKgD,aAJHhD,KAAKqP,QAAQlB,KAAK,CAAxBhG,KAAA,YCt+BiVmH,EAAA,ECO7UC,EAAYnF,OAAAmB,EAAA,KAAAnB,CACdkF,EACAnO,EACA6G,GACA,EACA,KACA,WACA,MAIawH,EAAA,WAAAD,E,6CCjBR,SAASE,EAAShK,GACvB,MAAO,CACLiK,GAAI,WACJzD,cAAexG,EAAUwG,cACzBlD,KAAMtD,EAAUsD,KAChB9C,iBAAkBR,EAAUQ,iBAC5BuD,IAAK/D,EAAU+D,IACfC,MAAOhE,EAAUgE,MACjBpF,MAAOoB,EAAUpB,MACjB8H,WAAY1G,EAAU0G,WACtB9F,cAAeZ,EAAUY,eAItB,SAASsJ,EAAYlK,GAC1B,MAAO,CACLiK,GAAI,cACJ1J,KAAMP,EAAUO,KAChBiG,cAAexG,EAAUwG,cACzBlD,KAAMtD,EAAUsD,KAChB9C,iBAAkBR,EAAUQ,iBAC5BuD,IAAK/D,EAAU+D,IACfC,MAAOhE,EAAUgE,MACjBpF,MAAOoB,EAAUpB,MACjB8H,WAAY1G,EAAU0G,WACtBjC,YAAazE,EAAUyE,YACvB7D,cAAeZ,EAAUY,eAKtB,SAASmI,EAAc/I,GAC5B,MAAO,CACLiK,GAAI,gBACJ1J,KAAMP,EAAUO,MAKb,SAAShD,IAAsE,IAA5D4M,EAA4DC,UAAA5B,OAAA,QAAA/N,IAAA2P,UAAA,GAAAA,UAAA,GAA/C,GAAIlN,EAA2CkN,UAAA5B,OAAA,QAAA/N,IAAA2P,UAAA,GAAAA,UAAA,GAA9B,KAAM/D,EAAwB+D,UAAA5B,OAAA,QAAA/N,IAAA2P,UAAA,GAAAA,UAAA,GAAf,EAAG9D,EAAY8D,UAAA5B,OAAA,QAAA/N,IAAA2P,UAAA,GAAAA,UAAA,GAAJ,GAChF,MAAO,CACLH,GAAI,YACJ5D,OAAQA,EACRC,MAAOA,EACP6D,WAAYA,EACZjN,WAAYA,GAMT,SAASmN,EAAYnB,GAC1B,MAAO,CACLe,GAAI,cACJ1J,KAAM2I,EAAM3I,MAKT,SAAStB,EAAYiK,GAC1B,MAAO,CACLe,GAAI,cACJ1J,KAAM2I,EAAM3I,KACZ3B,MAAOsK,EAAMtK,OAKV,SAAS0L,EAAepB,GAC7B,MAAO,CACLe,GAAI,iBACJ1J,KAAM2I,EAAM3I,MAxEhB1G,EAAA0Q,EAAAR,EAAA,sBAAAC,IAAAnQ,EAAA0Q,EAAAR,EAAA,sBAAAG,IAAArQ,EAAA0Q,EAAAR,EAAA,sBAAAhB,IAAAlP,EAAA0Q,EAAAR,EAAA,sBAAAxM,IAAA1D,EAAA0Q,EAAAR,EAAA,sBAAAM,IAAAxQ,EAAA0Q,EAAAR,EAAA,sBAAA9K,IAAApF,EAAA0Q,EAAAR,EAAA,sBAAAO,K,gFCAIE,EAAqB,KAGlB,SAASC,IACd,IACE,IAAIC,EAAKC,UAAUC,UACnB,GAAmC,MAA/BF,EAAGG,MAAM,mBAA4B,OAAO,EAChD,GAAgC,MAA5BH,EAAGG,MAAM,gBAAyB,OAAO,EAC7C,GAA4B,MAAxBH,EAAGG,MAAM,YAAqB,OAAO,EACzC,GAA+B,MAA3BH,EAAGG,MAAM,eAAwB,OAAO,EAE5C,IAAIC,EAAaJ,EAAGG,MAAM,kBACtBE,EAAQL,EAAGG,MAAM,eACjBG,EAASN,EAAGG,MAAM,cAClBI,EAAQP,EAAGG,MAAM,kBACjBK,EAAMR,EAAGG,MAAM,QACnB,GAAmB,MAAdC,GAAiC,MAATC,GAA2B,OAARG,EAC9C,OAAO,EAET,GAAc,OAAVD,GAEF,GADAA,EAAQA,EAAM,GAAGJ,MAAM,OAClBI,EAAM,IAAM,IAAgB,OAARC,EAAe,OAAO,OAEjD,GAAe,OAAXF,GAEF,GADAA,EAASA,EAAO,GAAGH,MAAM,OACrBG,EAAO,IAAM,GAAI,OAAO,OAE9B,GAAmB,MAAdF,GAAiC,MAATC,EAAgB,CAC3C,IAAII,EAAYT,EAAGG,MAAM,iBACzB,GAAkB,OAAdM,IACFA,EAAYA,EAAU,GAAGN,MAAM,OAC3BM,EAAU,IAAM,IAAI,OAAO,EAGnC,OAAO,EACP,MAAOC,GACP,OAAO,GAKX,GAAIX,IAAc,CAChB,IAAIY,EAAO9F,SAAS8F,MAAQ9F,SAAS+F,qBAAqB,QAAQ,IAAM/F,SAASgG,gBAC7EC,EAAUjG,SAASkG,cAAc,UACrCD,EAAQE,IAAM,kDACdL,EAAKM,aAAaH,EAASH,EAAKO,YAGhCJ,EAAUjG,SAASkG,cAAc,UACjCD,EAAQE,IAAM,mDACdL,EAAKM,aAAaH,EAASH,EAAKO,YAI3B,SAASC,EAASC,EAASC,GAChC,IAQI3G,EARA4G,EAAgB,oHAChBC,EAAe,gHACfC,EAAmB,oHACnBC,EAAkB,gHAClBC,EAAgB,mGAChBC,EAAe,0EAEfC,EAAkB,+HAEtB,IACE,IAAIC,EAAQ5B,UAAUC,UAAU4B,QAAQ,SAAW,GAAO7B,UAAUC,UAAU4B,QAAQ,YAAc,EACpG,GAAI/B,IAAc,CAChB,IACErF,EAAQqH,YACR,MAAOrB,IACT,IAAKhG,GAAiC,aAAxBG,SAASmH,WAErB,YADAC,MAAM,sBAGHvH,IAMCwH,OAAOC,SAAW,YAChBN,EAAMhH,SAASuH,MAAMR,GAEvB/G,SAASgG,gBAAgB9F,UAAY6G,EAAkB/G,SAASgG,gBAAgB9F,WAEhFsG,GAAUA,EAAOgB,YAAYhB,EAAOgB,WAAWC,YAAYjB,GAC3DD,GAAWA,EAAQiB,YAAYjB,EAAQiB,WAAWC,YAAYlB,QAE/D,CACL,IAAImB,EAASV,GAAS5B,UAAUC,UAAU4B,QAAQ,QAAU,EAgB5D,QAde/R,GAAXqR,QAAkCrR,GAAVsR,EAChB3G,EAANmH,EAAcT,EACLC,EACkB,MAAtBvB,GACTpF,EAAQG,SAASkG,cAAc,UAC/BrG,EAAM8H,aAAa,QAAS,GAC5B9H,EAAM8H,aAAa,SAAU,GAC7B9H,EAAM8H,aAAa,QAAS,+DACxBX,EAAMnH,EAAM8H,aAAa,UAAW,8CACnC9H,EAAM8H,aAAa,OAAQ,6BAChC3H,SAASgG,gBAAgB4B,YAAY/H,GACrCoF,EAAqBpF,GAChBA,EAAQoF,EAED,MAATpF,GAA6C,oBAAlBA,EAAMgI,QAUpC,OATIzC,UAAUC,UAAU4B,QAAQ,WAAa,IAC3CjH,SAASgG,gBAAgB9F,UAAY4G,EAAe9G,SAASgG,gBAAgB9F,WAC3EkF,UAAUC,UAAU4B,QAAQ,YAAc,IAC5CjH,SAASgG,gBAAgB9F,UAAY2G,EAAgB7G,SAASgG,gBAAgB9F,WAC5EwH,EAAQ1H,SAASuH,MAAMZ,GAEvBK,EAAMhH,SAASuH,MAAMd,GAEvBzG,SAASgG,gBAAgB9F,UAAYuG,EAAgBzG,SAASgG,gBAAgB9F,UACzEL,EAGX,OAAIA,EAAMgI,QAAU,OACb3C,MACCwC,EAAQ1H,SAASuH,MAAMX,GAEvBI,EAAMhH,SAASuH,MAAMb,GAEvB1G,SAASgG,gBAAgB9F,UAAYwG,EAAe1G,SAASgG,gBAAgB9F,WAE1EL,GAMFA,EACP,MAAOgG,GACPuB,MAAM,cAAgBvB","file":"js/chunk-b811eaf0.4bcb3ff3.js","sourcesContent":["'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Row',{staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{on:{\"input\":_vm.emptysDearchOrder},model:{value:(_vm.inputText),callback:function ($$v) {_vm.inputText=$$v},expression:\"inputText\"}},[_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\",\"transfer\":true},on:{\"on-change\":_vm.searchTypeChange},slot:\"prepend\",model:{value:(_vm.searchType),callback:function ($$v) {_vm.searchType=$$v},expression:\"searchType\"}},[_c('Option',{key:\"-1\",attrs:{\"value\":\"-1\"}},[_vm._v(\"客户名称\")]),_c('Option',{key:\"0\",attrs:{\"value\":\"0\"}},[_vm._v(\"未过账\")]),_c('Option',{key:\"3\",attrs:{\"value\":\"3\"}},[_vm._v(\"已过账\")])],1),_c('Button',{attrs:{\"slot\":\"append\",\"icon\":\"ios-search\"},on:{\"click\":_vm.findOrder},slot:\"append\"})],1)],1),_c('Col',{attrs:{\"span\":\"2\"}},[_c('span',{staticStyle:{\"color\":\"#ed4014\",\"font-size\":\"22px\"}},[_vm._v(\"销售单\")])])],1),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.titleList,\"data\":_vm.tableData},scopedSlots:_vm._u([{key:\"create_time\",fn:function(ref){\nvar index = ref.index;\nreturn [_vm._v(_vm._s(_vm.formatDate(_vm.tableData[index])))]}},{key:\"state\",fn:function(ref){\nvar index = ref.index;\nreturn [_vm._v(_vm._s(_vm.stateFormat(_vm.tableData[index])))]}},{key:\"action\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editModalClick(_vm.tableData[index])}}},[_vm._v(\"查看\")]),_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"error\",\"size\":\"small\",\"disabled\":_vm.tableData[index].state == 3 || _vm.user.authority.substr(4,5) == 0},on:{\"click\":function($event){return _vm.deleteModal(_vm.tableData[index])}}},[_vm._v(\"删除\")]),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\",\"disabled\":_vm.tableData[index].state == 3 || _vm.user.authority.substr(0,1) == 0},on:{\"click\":function($event){return _vm.stateChange(_vm.tableData[index])}}},[_vm._v(\"过账\")])]}}])}),(_vm.isShowMoreBtn)?_c('Button',{staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.loadMore}},[_vm._v(\"加载更多\")]):_vm._e(),_c('Modal',{attrs:{\"title\":\"修改销售单\",\"closable\":false,\"fullscreen\":\"\",\"footer-hide\":\"\",\"closable\":\"\",\"z-index\":99,\"class-name\":\"vertical-center-modal\"},model:{value:(_vm.editModal),callback:function ($$v) {_vm.editModal=$$v},expression:\"editModal\"}},[_c('Row',{staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"gutter\":16,\"type\":\"flex\",\"align\":\"middle\"}},[_c('Col',{attrs:{\"span\":\"4\"}},[_c('Input',{attrs:{\"readonly\":\"\",\"disabled\":_vm.saveBtn == '修改'},nativeOn:{\"click\":function($event){return _vm.selectCustomerClick($event)}},model:{value:(_vm.orderData.shop),callback:function ($$v) {_vm.$set(_vm.orderData, \"shop\", $$v)},expression:\"orderData.shop\"}},[_c('span',{attrs:{\"slot\":\"prepend\"},slot:\"prepend\"},[_vm._v(\"客户名称\")])])],1),_c('Col',{staticStyle:{\"margin-left\":\"40px\"},attrs:{\"span\":\"3\"}},[_c('h2',[_vm._v(\"总数量：\"+_vm._s(_vm.countTotalNum))])]),_c('Col',{attrs:{\"span\":\"3\"}},[_c('h2',[_vm._v(\"\\n          总金额：\\n          \"),_c('span',{staticStyle:{\"color\":\"#ed4014\"}},[_vm._v(_vm._s(_vm.countTotalPrice))])])]),_c('Col',{attrs:{\"span\":\"3\"}},[_c('h2',[_vm._v(\"\\n          实收金额：\\n          \"),_c('Input',{staticStyle:{\"color\":\"#ed4014\",\"width\":\"100px\"},attrs:{\"type\":\"number\",\"disabled\":_vm.saveBtn == '修改'},on:{\"on-blur\":_vm.formatRealPrice},model:{value:(_vm.orderData.real_price),callback:function ($$v) {_vm.$set(_vm.orderData, \"real_price\", $$v)},expression:\"orderData.real_price\"}})],1)]),_c('Col',{attrs:{\"span\":\"1\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.orderData.state == 3  || _vm.user.code != _vm.orderData.order_write_code},on:{\"click\":_vm.saveSure}},[_vm._v(_vm._s(_vm.saveBtn))])],1),_c('Col',{attrs:{\"span\":\"1\"}},[_c('Button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.saveBtn != '修改'},on:{\"click\":_vm.printOrder}},[_vm._v(\"打印\")])],1)],1),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.editTitleList,\"data\":_vm.orderData.orderItemList},scopedSlots:_vm._u([{key:\"name\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Input',{attrs:{\"readonly\":\"\",\"type\":\"text\",\"disabled\":_vm.saveBtn == '修改'},nativeOn:{\"click\":function($event){return _vm.selectCommodityClick(index)}},model:{value:(_vm.orderData.orderItemList[index].name),callback:function ($$v) {_vm.$set(_vm.orderData.orderItemList[index], \"name\", $$v)},expression:\"orderData.orderItemList[index].name\"}})]}},{key:\"specifications\",fn:function(ref){\nvar index = ref.index;\nreturn [_vm._v(\"1 * \"+_vm._s(_vm.orderData.orderItemList[index].specifications))]}},{key:\"unit\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Select',{attrs:{\"disabled\":_vm.saveBtn == '修改',\"transfer\":true},on:{\"on-change\":function($event){return _vm.unitChange(_vm.orderData.orderItemList[index])}},model:{value:(_vm.orderData.orderItemList[index].unit),callback:function ($$v) {_vm.$set(_vm.orderData.orderItemList[index], \"unit\", $$v)},expression:\"orderData.orderItemList[index].unit\"}},[_c('Option',{key:\"个\",attrs:{\"value\":\"个\"}},[_vm._v(\"个\")]),_c('Option',{key:\"件\",attrs:{\"value\":\"件\"}},[_vm._v(\"件\")])],1)]}},{key:\"num\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Input',{attrs:{\"type\":\"number\",\"disabled\":_vm.saveBtn == '修改'},model:{value:(_vm.orderData.orderItemList[index].num),callback:function ($$v) {_vm.$set(_vm.orderData.orderItemList[index], \"num\", $$v)},expression:\"orderData.orderItemList[index].num\"}})]}},{key:\"price\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Input',{attrs:{\"type\":\"number\",\"disabled\":_vm.saveBtn == '修改'},on:{\"on-blur\":function($event){return _vm.formatItemPrice(_vm.orderData.orderItemList[index])}},model:{value:(_vm.orderData.orderItemList[index].price),callback:function ($$v) {_vm.$set(_vm.orderData.orderItemList[index], \"price\", $$v)},expression:\"orderData.orderItemList[index].price\"}})]}},{key:\"total_price\",fn:function(ref){\nvar index = ref.index;\nreturn [_vm._v(_vm._s(_vm.countItemTotalPrice(_vm.orderData.orderItemList[index])))]}},{key:\"action\",fn:function(ref){\nvar index = ref.index;\nreturn [_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\",\"disabled\":_vm.saveBtn == '修改'},on:{\"click\":function($event){return _vm.deleteSaleModal(index)}}},[_vm._v(\"删除\")])]}}])}),_c('Button',{staticStyle:{\"width\":\"100%\"},attrs:{\"size\":\"large\",\"disabled\":_vm.saveBtn == '修改'},on:{\"click\":_vm.addItem}},[_vm._v(\"添加商品\")])],1),_c('Modal',{attrs:{\"title\":\"请选择客户\",\"closable\":false,\"fullscreen\":\"\",\"footer-hide\":\"\",\"closable\":\"\",\"class-name\":\"vertical-center-modal\"},model:{value:(_vm.selectCustomerModal),callback:function ($$v) {_vm.selectCustomerModal=$$v},expression:\"selectCustomerModal\"}},[_c('Row',{staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{on:{\"input\":_vm.emptysDearchCustomer},model:{value:(_vm.inputCustomerText),callback:function ($$v) {_vm.inputCustomerText=$$v},expression:\"inputCustomerText\"}},[_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\"},slot:\"prepend\",model:{value:(_vm.searchCustomerType),callback:function ($$v) {_vm.searchCustomerType=$$v},expression:\"searchCustomerType\"}},[_c('Option',{attrs:{\"value\":\"shop\"}},[_vm._v(\"商店名称\")]),_c('Option',{attrs:{\"value\":\"name\"}},[_vm._v(\"客户名称\")]),_c('Option',{attrs:{\"value\":\"phone\"}},[_vm._v(\"电话号码\")])],1),_c('Button',{attrs:{\"slot\":\"append\",\"icon\":\"ios-search\"},on:{\"click\":_vm.findCustomer},slot:\"append\"})],1)],1)],1),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.customerTitleList,\"data\":_vm.customerList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.selectCustomerModalBtn(row)}}},[_vm._v(\"选择\")])]}}])}),(_vm.isCustomerShowMoreBtn)?_c('Button',{staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.loadCustomerMore}},[_vm._v(\"加载更多\")]):_vm._e()],1),_c('Modal',{attrs:{\"title\":\"请选择商品\",\"closable\":false,\"fullscreen\":\"\",\"footer-hide\":\"\",\"closable\":\"\",\"class-name\":\"vertical-center-modal\"},model:{value:(_vm.selectCommodityModal),callback:function ($$v) {_vm.selectCommodityModal=$$v},expression:\"selectCommodityModal\"}},[_c('Row',{staticStyle:{\"padding-bottom\":\"16px\"},attrs:{\"gutter\":16}},[_c('Col',{attrs:{\"span\":\"6\"}},[_c('Input',{on:{\"input\":_vm.emptysDearchCommodity},model:{value:(_vm.inputCommodityText),callback:function ($$v) {_vm.inputCommodityText=$$v},expression:\"inputCommodityText\"}},[_c('Select',{staticStyle:{\"width\":\"80px\"},attrs:{\"slot\":\"prepend\"},slot:\"prepend\",model:{value:(_vm.searchCommodityType),callback:function ($$v) {_vm.searchCommodityType=$$v},expression:\"searchCommodityType\"}},[_c('Option',{attrs:{\"value\":\"name\"}},[_vm._v(\"商品名称\")]),_c('Option',{attrs:{\"value\":\"bar_code\"}},[_vm._v(\"条形码\")])],1),_c('Button',{attrs:{\"slot\":\"append\",\"icon\":\"ios-search\"},on:{\"click\":_vm.findCommodity},slot:\"append\"})],1)],1)],1),_c('Table',{attrs:{\"border\":\"\",\"columns\":_vm.commodityTitleList,\"data\":_vm.commodityList},scopedSlots:_vm._u([{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.selectCommodityModalBtn(row)}}},[_vm._v(\"选择\")])]}}])}),(_vm.isCommodityShowMoreBtn)?_c('Button',{staticStyle:{\"width\":\"100%\"},on:{\"click\":_vm.loadCommodityMore}},[_vm._v(\"加载更多\")]):_vm._e()],1),_c('PrintOrders',{ref:\"printOrders\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('form',{directives:[{name:\"show\",rawName:\"v-show\",value:(false),expression:\"false\"}],attrs:{\"id\":\"printTest\"}},[_c('div',{staticStyle:{\"text-align\":\"center\",\"margin\":\"auto\",\"width\":\"740px\"}},[_c('br'),_c('div',{staticStyle:{\"font-size\":\"30px\",\"margin-top\":\"30px\"}},[_vm._v(_vm._s(_vm.printOrderData.company.name)+\"销售单\")]),_c('br'),_c('table',{staticStyle:{\"width\":\"100%\",\"margin-top\":\"5px\",\"font-size\":\"14px\"},attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\",\"border\":\"0\"}},[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"单据日期：\"+_vm._s(_vm.formatDate(_vm.printOrderData.orders)))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"单据编号：\"+_vm._s(_vm.printOrderData.orders.order_num_code))])]),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"往来单位：\"+_vm._s(_vm.printOrderData.orders.shop))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"电话：\"+_vm._s(_vm.printOrderData.orders.phone))])])]),_c('table',{staticStyle:{\"border-collapse\":\"collapse\",\"width\":\"100%\",\"margin-top\":\"5px\",\"text-align\":\"center\",\"font-size\":\"14px\"},attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\",\"border\":\"1\"}},[_vm._m(0),_vm._l((_vm.printOrderData.orders.orderItemList),function(orderItem,index){return [_c('tr',[_c('td',[_vm._v(_vm._s(index+1))]),_c('td',[_vm._v(_vm._s(orderItem.bar_code))]),_c('td',[_vm._v(_vm._s(orderItem.name))]),_c('td',[_vm._v(_vm._s(orderItem.weight))]),_c('td',[_vm._v(_vm._s(orderItem.unit))]),_c('td',[_vm._v(_vm._s(orderItem.num))]),_c('td',[_vm._v(_vm._s(orderItem.price))]),_c('td',[_vm._v(_vm._s(orderItem.num * orderItem.price))]),_c('td')])]}),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"},attrs:{\"colspan\":\"5\"}},[_vm._v(\" 金额（大写）：\"+_vm._s(_vm.printOrderData.orders.price_up))]),_c('td',[_vm._v(_vm._s(_vm.printOrderData.orders.num))]),_c('th',[_vm._v(\"金额\")]),_c('th',{staticStyle:{\"text-align\":\"left\"},attrs:{\"colspan\":\"4\"}},[_vm._v(\" \"+_vm._s(_vm.printOrderData.orders.price))])])],2),_c('table',{staticStyle:{\"width\":\"100%\",\"font-size\":\"14px\",\"margin-top\":\"5px\"},attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\",\"border\":\"0\"}},[_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"地址：\"+_vm._s(_vm.printOrderData.company.address))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(_vm._s(_vm.printOrderData.company.bank))])]),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"公司电话：\"+_vm._s(_vm.printOrderData.company.company_phone))])]),_c('tr',[_c('td',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"业务电话：\"+_vm._s(_vm.printOrderData.company.business_phone))]),_c('td',{staticStyle:{\"text-align\":\"right\"}},[_vm._v(\"收货人签字：                             \")])])])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('tr',[_c('th',{attrs:{\"width\":\"34\"}},[_vm._v(\"行号\")]),_c('th',{attrs:{\"width\":\"120\"}},[_vm._v(\"条码\")]),_c('th',{attrs:{\"width\":\"226\"}},[_vm._v(\"商品名称\")]),_c('th',{attrs:{\"width\":\"44\"}},[_vm._v(\"规格\")]),_c('th',{attrs:{\"width\":\"34\"}},[_vm._v(\"单位\")]),_c('th',{attrs:{\"width\":\"40\"}},[_vm._v(\"数量\")]),_c('th',{attrs:{\"width\":\"74\"}},[_vm._v(\"单价\")]),_c('th',{attrs:{\"width\":\"74\"}},[_vm._v(\"金额\")]),_c('th',{attrs:{\"width\":\"108\"}},[_vm._v(\"备注\")])])}]\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <div>\r\n    <form id=\"printTest\" v-show=\"false\">\r\n      <div style=\"text-align: center;margin: auto;width: 740px\">\r\n        <br />\r\n        <div style=\"font-size:30px;margin-top: 30px;\">{{printOrderData.company.name}}销售单</div>\r\n        <br />\r\n        <table\r\n          cellspacing=\"0\"\r\n          cellpadding=\"0\"\r\n          border=\"0\"\r\n          style=\"width: 100%;margin-top: 5px; font-size: 14px;\"\r\n        >\r\n          <tr>\r\n            <td style=\"text-align: left\">单据日期：{{formatDate(printOrderData.orders)}}</td>\r\n            <td style=\"text-align: right\">单据编号：{{printOrderData.orders.order_num_code}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td style=\"text-align: left\">往来单位：{{printOrderData.orders.shop}}</td>\r\n            <td style=\"text-align: right\">电话：{{printOrderData.orders.phone}}</td>\r\n          </tr>\r\n        </table>\r\n        <table\r\n          cellspacing=\"0\"\r\n          cellpadding=\"0\"\r\n          border=\"1\"\r\n          style=\"border-collapse:collapse;width: 100%;margin-top: 5px; text-align: center; font-size: 14px;\"\r\n        >\r\n          <tr>\r\n            <th width=\"34\">行号</th>\r\n            <th width=\"120\">条码</th>\r\n            <th width=\"226\">商品名称</th>\r\n            <th width=\"44\">规格</th>\r\n            <th width=\"34\">单位</th>\r\n            <th width=\"40\">数量</th>\r\n            <th width=\"74\">单价</th>\r\n            <th width=\"74\">金额</th>\r\n            <th width=\"108\">备注</th>\r\n          </tr>\r\n          <template v-for=\"orderItem, index  in printOrderData.orders.orderItemList\">\r\n            <tr>\r\n              <td>{{ index+1 }}</td>\r\n              <td>{{ orderItem.bar_code }}</td>\r\n              <td>{{ orderItem.name }}</td>\r\n              <td>{{ orderItem.weight }}</td>\r\n              <td>{{ orderItem.unit }}</td>\r\n              <td>{{ orderItem.num }}</td>\r\n              <td>{{ orderItem.price }}</td>\r\n              <td>{{ orderItem.num * orderItem.price}}</td>\r\n              <td></td>\r\n            </tr>\r\n          </template>\r\n          <tr>\r\n            <td\r\n              colspan=\"5\"\r\n              style=\"text-align: left\"\r\n            >&nbsp;金额（大写）：{{ printOrderData.orders.price_up }}</td>\r\n            <td>{{printOrderData.orders.num}}</td>\r\n            <th>金额</th>\r\n            <th colspan=\"4\" style=\"text-align: left\">&nbsp;{{printOrderData.orders.price}}</th>\r\n          </tr>\r\n        </table>\r\n        <table\r\n          cellspacing=\"0\"\r\n          cellpadding=\"0\"\r\n          border=\"0\"\r\n          style=\"width: 100%;font-size: 14px;margin-top: 5px;\"\r\n        >\r\n          <tr>\r\n            <td style=\"text-align: left\">地址：{{printOrderData.company.address}}</td>\r\n            <td style=\"text-align: right\">{{printOrderData.company.bank}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td style=\"text-align: left\">公司电话：{{printOrderData.company.company_phone}}</td>\r\n          </tr>\r\n          <tr>\r\n            <td style=\"text-align: left\">业务电话：{{printOrderData.company.business_phone}}</td>\r\n            <td\r\n              style=\"text-align: right\"\r\n            >收货人签字：&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;</td>\r\n          </tr>\r\n        </table>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getLodop } from \"../common/lodop\";\r\nimport { formatDate } from \"../common/Util\";\r\nexport default {\r\n  name: \"PrintOrders\",\r\n  data() {\r\n    return {\r\n      printOrderData: {\r\n        company: {\r\n          name: \"\", // 公司名字\r\n          address: \"\", // 公司地址\r\n          bank: \"\", // 银行\r\n          company_phone: \"\", // 公司电话\r\n          business_phone: \"\" // 业务电话\r\n        }, // 公司数据\r\n        orders: {\r\n          create_time: \"\", // 单据日期\r\n          order_num_code: \"\", // 单据编号\r\n          shop: \"\", // 往来单位\r\n          phone: \"\", // 往来单位电话\r\n          num: 0, // 总数量\r\n          price: \"\", // 总金额\r\n          price_up: \"\", // 总金额大写\r\n          orderItemList: [\r\n            {\r\n              bar_code: \"\", // 条码\r\n              name: \"\", // 商品名称\r\n              weight: \"\", // 规格\r\n              unit: \"\", // 单位\r\n              num: 0, // 数量\r\n              price: \"\" // 单价\r\n            }\r\n          ] // 订单列表\r\n        } // 订单\r\n      }\r\n    };\r\n  },\r\n  computed: {\r\n    //格式化日期\r\n    formatDate(row) {\r\n      return function(row) {\r\n        return formatDate(new Date(Number(row.create_time)), \"yyyy-MM-dd\");\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    // 开始打印销售单\r\n    startPrintOrders(printOrderData) {\r\n      let _this = this;\r\n      this.printOrderData = printOrderData;\r\n      setTimeout(function() {\r\n        _this.printPdf();\r\n      }, \"100\");\r\n    },\r\n    // 查询数据\r\n    printPdf() {\r\n      let LODOP = getLodop();\r\n      LODOP.ADD_PRINT_HTM(\r\n        0,\r\n        0,\r\n        \"100%\",\r\n        \"100%\",\r\n        document.getElementById(\"printTest\").innerHTML\r\n      );\r\n      LODOP.PREVIEW();\r\n    }\r\n  },\r\n\r\n  created() {}\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintOrders.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PrintOrders.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PrintOrders.vue?vue&type=template&id=47e345da&scoped=true&\"\nimport script from \"./PrintOrders.vue?vue&type=script&lang=js&\"\nexport * from \"./PrintOrders.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"47e345da\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <Row :gutter=\"16\" style=\"padding-bottom: 16px\">\r\n      <Col span=\"6\">\r\n        <Input v-model=\"inputText\" @input=\"emptysDearchOrder\">\r\n          <Select\r\n            v-model=\"searchType\"\r\n            slot=\"prepend\"\r\n            :transfer=\"true\"\r\n            style=\"width: 80px\"\r\n            @on-change=\"searchTypeChange\"\r\n          >\r\n            <!-- <Option value=\"-1\" key=\"-1\">客户名称</Option>\r\n            <Option value=\"0\" key=\"0\">未送货</Option>\r\n            <Option value=\"1\" key=\"1\">已付款</Option>\r\n            <Option value=\"2\" key=\"2\">欠款</Option>\r\n            <Option value=\"3\" key=\"3\">已过账</Option>-->\r\n            <Option value=\"-1\" key=\"-1\">客户名称</Option>\r\n            <Option value=\"0\" key=\"0\">未过账</Option>\r\n            <Option value=\"3\" key=\"3\">已过账</Option>\r\n          </Select>\r\n          <Button slot=\"append\" icon=\"ios-search\" @click=\"findOrder\"></Button>\r\n        </Input>\r\n      </Col>\r\n      <Col span=\"2\">\r\n        <span style=\"color:#ed4014;font-size:22px\">销售单</span>\r\n      </Col>\r\n    </Row>\r\n\r\n    <Table border :columns=\"titleList\" :data=\"tableData\">\r\n      <template slot-scope=\"{index}\" slot=\"create_time\">{{formatDate(tableData[index])}}</template>\r\n      <template slot-scope=\"{index}\" slot=\"state\">{{stateFormat(tableData[index])}}</template>\r\n\r\n      <!-- <template slot-scope=\"{index}\" slot=\"state\">\r\n        <Select\r\n          v-model=\"tableData[index].state\"\r\n          :transfer=\"true\"\r\n          :disabled=\"tableData[index].state == 3\"\r\n          @on-change=\"stateChange(tableData[index])\"\r\n        >\r\n          <Option :value=\"0\" key=\"0\">未送货</Option>\r\n          <Option :value=\"1\" key=\"1\">已付款</Option>\r\n          <Option :value=\"2\" key=\"2\">欠款</Option>\r\n          <Option :value=\"3\" key=\"3\" disabled>已过账</Option>\r\n        </Select>\r\n      </template>-->\r\n\r\n      <template slot-scope=\"{index}\" slot=\"action\">\r\n        <Button\r\n          type=\"primary\"\r\n          size=\"small\"\r\n          style=\"margin-right: 5px\"\r\n          @click=\"editModalClick(tableData[index])\"\r\n        >查看</Button>\r\n        <Button\r\n          type=\"error\"\r\n          size=\"small\"\r\n          style=\"margin-right: 5px\"\r\n          @click=\"deleteModal(tableData[index])\"\r\n          :disabled=\"tableData[index].state == 3 || user.authority.substr(4,5) == 0\"\r\n        >删除</Button>\r\n        <Button\r\n          type=\"error\"\r\n          size=\"small\"\r\n          @click=\"stateChange(tableData[index])\"\r\n          :disabled=\"tableData[index].state == 3 || user.authority.substr(0,1) == 0\"\r\n        >过账</Button>\r\n      </template>\r\n    </Table>\r\n    <Button @click=\"loadMore\" style=\"width: 100%\" v-if=\"isShowMoreBtn\">加载更多</Button>\r\n    <Modal\r\n      title=\"修改销售单\"\r\n      :closable=\"false\"\r\n      fullscreen\r\n      footer-hide\r\n      closable\r\n      :z-index=\"99\"\r\n      v-model=\"editModal\"\r\n      class-name=\"vertical-center-modal\"\r\n    >\r\n      <Row :gutter=\"16\" style=\"padding-bottom: 16px\" type=\"flex\" align=\"middle\">\r\n        <Col span=\"4\">\r\n          <Input\r\n            readonly\r\n            v-on:click.native=\"selectCustomerClick\"\r\n            v-model=\"orderData.shop\"\r\n            :disabled=\"saveBtn == '修改'\"\r\n          >\r\n            <span slot=\"prepend\">客户名称</span>\r\n          </Input>\r\n        </Col>\r\n        <Col span=\"3\" style=\"margin-left:40px\">\r\n          <h2>总数量：{{countTotalNum}}</h2>\r\n        </Col>\r\n        <Col span=\"3\">\r\n          <h2>\r\n            总金额：\r\n            <span style=\"color:#ed4014\">{{countTotalPrice}}</span>\r\n          </h2>\r\n        </Col>\r\n        <Col span=\"3\">\r\n          <h2>\r\n            实收金额：\r\n            <Input\r\n              @on-blur=\"formatRealPrice\"\r\n              v-model=\"orderData.real_price\"\r\n              type=\"number\"\r\n              :disabled=\"saveBtn == '修改'\"\r\n              style=\"color:#ed4014;width: 100px\"\r\n            ></Input>\r\n          </h2>\r\n        </Col>\r\n        <Col span=\"1\">\r\n          <Button\r\n            type=\"primary\"\r\n            @click=\"saveSure\"\r\n            :disabled=\"orderData.state == 3  || user.code != orderData.order_write_code\"\r\n          >{{saveBtn}}</Button>\r\n        </Col>\r\n        <Col span=\"1\">\r\n          <Button type=\"primary\" @click=\"printOrder\" :disabled=\"saveBtn != '修改'\">打印</Button>\r\n        </Col>\r\n      </Row>\r\n\r\n      <Table border :columns=\"editTitleList\" :data=\"orderData.orderItemList\">\r\n        <template slot-scope=\"{index }\" slot=\"name\">\r\n          <Input\r\n            v-model=\"orderData.orderItemList[index].name\"\r\n            readonly\r\n            v-on:click.native=\"selectCommodityClick(index)\"\r\n            type=\"text\"\r\n            :disabled=\"saveBtn == '修改'\"\r\n          />\r\n        </template>\r\n        <template\r\n          slot-scope=\"{index }\"\r\n          slot=\"specifications\"\r\n        >1 * {{orderData.orderItemList[index].specifications}}</template>\r\n\r\n        <template slot-scope=\"{index}\" slot=\"unit\">\r\n          <Select\r\n            :disabled=\"saveBtn == '修改'\"\r\n            v-model=\"orderData.orderItemList[index].unit\"\r\n            :transfer=\"true\"\r\n            @on-change=\"unitChange(orderData.orderItemList[index])\"\r\n          >\r\n            <Option value=\"个\" key=\"个\">个</Option>\r\n            <Option value=\"件\" key=\"件\">件</Option>\r\n          </Select>\r\n        </template>\r\n        <template slot-scope=\"{index}\" slot=\"num\">\r\n          <Input\r\n            v-model=\"orderData.orderItemList[index].num\"\r\n            type=\"number\"\r\n            :disabled=\"saveBtn == '修改'\"\r\n          />\r\n        </template>\r\n        <template slot-scope=\"{index}\" slot=\"price\">\r\n          <Input\r\n            v-model=\"orderData.orderItemList[index].price\"\r\n            type=\"number\"\r\n            @on-blur=\"formatItemPrice(orderData.orderItemList[index])\"\r\n            :disabled=\"saveBtn == '修改'\"\r\n          />\r\n        </template>\r\n        <template\r\n          slot-scope=\"{index}\"\r\n          slot=\"total_price\"\r\n        >{{countItemTotalPrice(orderData.orderItemList[index])}}</template>\r\n        <template slot-scope=\"{index }\" slot=\"action\">\r\n          <Button\r\n            type=\"error\"\r\n            size=\"small\"\r\n            @click=\"deleteSaleModal(index)\"\r\n            :disabled=\"saveBtn == '修改'\"\r\n          >删除</Button>\r\n        </template>\r\n      </Table>\r\n      <Button style=\"width: 100%;\" @click=\"addItem\" size=\"large\" :disabled=\"saveBtn == '修改'\">添加商品</Button>\r\n    </Modal>\r\n\r\n    <Modal\r\n      title=\"请选择客户\"\r\n      :closable=\"false\"\r\n      fullscreen\r\n      footer-hide\r\n      closable\r\n      v-model=\"selectCustomerModal\"\r\n      class-name=\"vertical-center-modal\"\r\n    >\r\n      <Row :gutter=\"16\" style=\"padding-bottom: 16px\">\r\n        <Col span=\"6\">\r\n          <Input v-model=\"inputCustomerText\" @input=\"emptysDearchCustomer\">\r\n            <Select v-model=\"searchCustomerType\" slot=\"prepend\" style=\"width: 80px\">\r\n              <Option value=\"shop\">商店名称</Option>\r\n              <Option value=\"name\">客户名称</Option>\r\n              <Option value=\"phone\">电话号码</Option>\r\n            </Select>\r\n            <Button slot=\"append\" icon=\"ios-search\" @click=\"findCustomer\" />\r\n          </Input>\r\n        </Col>\r\n      </Row>\r\n      <Table border :columns=\"customerTitleList\" :data=\"customerList\">\r\n        <template slot-scope=\"{row}\" slot=\"action\">\r\n          <Button type=\"primary\" size=\"small\" @click=\"selectCustomerModalBtn(row)\">选择</Button>\r\n        </template>\r\n      </Table>\r\n      <Button @click=\"loadCustomerMore\" style=\"width: 100%\" v-if=\"isCustomerShowMoreBtn\">加载更多</Button>\r\n    </Modal>\r\n\r\n    <Modal\r\n      title=\"请选择商品\"\r\n      :closable=\"false\"\r\n      fullscreen\r\n      footer-hide\r\n      closable\r\n      v-model=\"selectCommodityModal\"\r\n      class-name=\"vertical-center-modal\"\r\n    >\r\n      <Row :gutter=\"16\" style=\"padding-bottom: 16px\">\r\n        <Col span=\"6\">\r\n          <Input v-model=\"inputCommodityText\" @input=\"emptysDearchCommodity\">\r\n            <Select v-model=\"searchCommodityType\" slot=\"prepend\" style=\"width: 80px\">\r\n              <Option value=\"name\">商品名称</Option>\r\n              <Option value=\"bar_code\">条形码</Option>\r\n            </Select>\r\n            <Button slot=\"append\" icon=\"ios-search\" @click=\"findCommodity\"></Button>\r\n          </Input>\r\n        </Col>\r\n      </Row>\r\n      <Table border :columns=\"commodityTitleList\" :data=\"commodityList\">\r\n        <template slot-scope=\"{row}\" slot=\"action\">\r\n          <Button type=\"primary\" size=\"small\" @click=\"selectCommodityModalBtn(row)\">选择</Button>\r\n        </template>\r\n      </Table>\r\n      <Button @click=\"loadCommodityMore\" style=\"width: 100%\" v-if=\"isCommodityShowMoreBtn\">加载更多</Button>\r\n    </Modal>\r\n    <PrintOrders ref=\"printOrders\"></PrintOrders>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { Http_Post } from \"../common/Http\";\r\nimport {\r\n  findOrder,\r\n  deleteOrder,\r\n  updateOrder,\r\n  findOrderItem,\r\n  stateChange,\r\n  getPrintOrders\r\n} from \"../params/SaleP\";\r\nimport { formatDate, keepTwoDecimalFull } from \"../common/Util\";\r\nimport { EventBus } from \"../common/EventBus\";\r\n\r\nimport { findCustomer } from \"../params/CustomerP\";\r\nimport { findCommodity } from \"../params/CommodityP\";\r\nimport PrintOrders from \"../components/PrintOrders.vue\";\r\n\r\nexport default {\r\n  name: \"History\",\r\n  components: {\r\n    PrintOrders\r\n  },\r\n  data() {\r\n    return {\r\n      user: {}, // 登录用户\r\n      saveBtn: \"修改\",\r\n      inputCustomerText: \"\", // 搜索框中的内容\r\n      searchCustomerType: \"shop\", // 搜索类型\r\n      customerTitleList: [\r\n        {\r\n          type: \"index\",\r\n          width: 50,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"商店名称\",\r\n          key: \"shop\"\r\n        },\r\n        {\r\n          title: \"客户名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"电话号码\",\r\n          key: \"phone\"\r\n        },\r\n        {\r\n          title: \"地区\",\r\n          key: \"region\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"action\",\r\n          align: \"center\"\r\n        }\r\n      ], // customer列表头\r\n      customerList: [], // 列表内容customer\r\n      isCustomerShowMoreBtn: true, // 是否显示Customer加载跟多按钮\r\n      selectCustomerModal: false, // 是否显示选择客户的Modal\r\n\r\n      inputCommodityText: \"\", // 搜索框中的内容\r\n      searchCommodityType: \"name\", // 搜索类型\r\n      commodityTitleList: [\r\n        {\r\n          type: \"index\",\r\n          width: 50,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"商品图片\",\r\n          key: \"img_url\"\r\n        },\r\n        {\r\n          title: \"商店名称\",\r\n          key: \"name\"\r\n        },\r\n        {\r\n          title: \"商品重量\",\r\n          key: \"weight\"\r\n        },\r\n        {\r\n          title: \"商品规格\",\r\n          key: \"specifications\"\r\n        },\r\n        {\r\n          title: \"出产地\",\r\n          key: \"home\"\r\n        },\r\n        {\r\n          title: \"条形码\",\r\n          key: \"bar_code\"\r\n        },\r\n        {\r\n          title: \"保质期\",\r\n          key: \"expire\"\r\n        },\r\n        {\r\n          title: \"进货价格\",\r\n          key: \"price_in\"\r\n        },\r\n        {\r\n          title: \"正发价格\",\r\n          key: \"price_out\"\r\n        },\r\n        {\r\n          title: \"批发价格\",\r\n          key: \"price_out_down\"\r\n        },\r\n        {\r\n          title: \"库存\",\r\n          key: \"stock\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"action\",\r\n          align: \"center\"\r\n        }\r\n      ], // commodity列表头\r\n      commodityList: [], // 列表内容commodity\r\n      isCommodityShowMoreBtn: true, // 是否显示Commodity加载跟多按钮\r\n      selectCommodityModal: false, // 是否显示选择商品的Modal\r\n\r\n      offset: 0, // 分页加载页标\r\n      limit: 30, // 分页数据量\r\n      readonly: true, // input只读\r\n\r\n      editModal: false, // 是否显示修改订单Modal\r\n      offset: 0, // 分页加载页标\r\n      limit: 30, // 分页数据量\r\n      isShowMoreBtn: true, // 是否显示加载跟多按钮\r\n      searchType: \"-1\", // 搜索类型\r\n      inputText: \"\", // 搜索框中的内容\r\n      titleList: [\r\n        {\r\n          type: \"index\",\r\n          width: 50,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"客户名称\",\r\n          key: \"shop\"\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          key: \"num\"\r\n        },\r\n        {\r\n          title: \"金额\",\r\n          key: \"price\"\r\n        },\r\n        {\r\n          title: \"状态\",\r\n          slot: \"state\"\r\n        },\r\n        {\r\n          title: \"创建时间\",\r\n          slot: \"create_time\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"action\",\r\n          align: \"center\"\r\n        }\r\n      ], // 列表头\r\n      editTitleList: [\r\n        {\r\n          type: \"index\",\r\n          width: 50,\r\n          align: \"center\"\r\n        },\r\n        {\r\n          title: \"商品名称\",\r\n          slot: \"name\"\r\n        },\r\n        {\r\n          title: \"条形码\",\r\n          key: \"bar_code\"\r\n        },\r\n        {\r\n          title: \"规格\",\r\n          slot: \"specifications\"\r\n        },\r\n        {\r\n          title: \"单位\",\r\n          slot: \"unit\"\r\n        },\r\n        {\r\n          title: \"数量\",\r\n          slot: \"num\"\r\n        },\r\n        {\r\n          title: \"单价\",\r\n          slot: \"price\"\r\n        },\r\n        {\r\n          title: \"金额\",\r\n          slot: \"total_price\"\r\n        },\r\n        {\r\n          title: \"操作\",\r\n          slot: \"action\",\r\n          align: \"center\"\r\n        }\r\n      ], // 修改Modal列表头\r\n\r\n      tableData: [], // 列表数据\r\n      itemIndex: 0, // 商品选择条目index记录\r\n      orderData: {\r\n        code: \"\",\r\n        customer_code: \"\",\r\n        order_num_code: \"\",\r\n        order_delivery_code: \"\",\r\n        order_write_code: \"\",\r\n        num: 0,\r\n        price: \"\",\r\n        price_up: \"\",\r\n        shop: \"\",\r\n        state: 0,\r\n        real_price: \"0.00\",\r\n        create_time: \"\",\r\n        orderItemList: [] // 条目列表\r\n      } // 提交的订单对象\r\n    };\r\n  },\r\n  mounted() {\r\n    EventBus.$on(\"catOrder\", ({ code }) => {\r\n      this.findOrder();\r\n    });\r\n  },\r\n\r\n  computed: {\r\n    // 格式化实收金额\r\n    formatRealPrice() {\r\n      let _this = this;\r\n      return function() {\r\n        _this.orderData.real_price = keepTwoDecimalFull(\r\n          _this.orderData.real_price\r\n        );\r\n      };\r\n    },\r\n    // 格式化商品金额\r\n    formatItemPrice(row) {\r\n      let _this = this;\r\n      return function(row) {\r\n        row.price = keepTwoDecimalFull(row.price);\r\n      };\r\n    },\r\n    // 计算每一个条目的总金额\r\n    countItemTotalPrice(row) {\r\n      return function(row) {\r\n        return keepTwoDecimalFull(row.num * row.price);\r\n      };\r\n    },\r\n    // 计算总数量\r\n    countTotalNum() {\r\n      this.orderData.num = 0;\r\n      this.orderData.orderItemList.map((item, index) => {\r\n        this.orderData.num += item.num * 1;\r\n      });\r\n      return this.orderData.num;\r\n    },\r\n    // 计算总金额\r\n    countTotalPrice() {\r\n      var count = 0.0;\r\n      this.orderData.orderItemList.map((item, index) => {\r\n        count += parseFloat(item.price * item.num);\r\n      });\r\n      this.orderData.price = keepTwoDecimalFull(count);\r\n      return this.orderData.price;\r\n    },\r\n    //格式化日期\r\n    formatDate(row) {\r\n      return function(row) {\r\n        return formatDate(new Date(Number(row.create_time)), \"yyyy-MM-dd\");\r\n      };\r\n    },\r\n    // 订单状态格式化\r\n    stateFormat(row) {\r\n      return function(row) {\r\n        // switch (row.state) {\r\n        //   case 0:\r\n        //     return \"未送货\";\r\n        //   case 1:\r\n        //     return \"已付款\";\r\n        //   case 2:\r\n        //     return \"欠款\";\r\n        //   case 3:\r\n        //     return \"已过账\";\r\n        // }\r\n        switch (row.state) {\r\n          case 0:\r\n            return \"未过账\";\r\n          case 3:\r\n            return \"已过账\";\r\n        }\r\n      };\r\n    }\r\n  },\r\n  methods: {\r\n    // 销售单状态改变\r\n    stateChange(row) {\r\n      let _this = this;\r\n      this.$Modal.confirm({\r\n        title: \"警告\",\r\n        content: \"确定过账此订单？\",\r\n        onOk: () => {\r\n          row.state = 3; // 过账\r\n          this.$Spin.show();\r\n          Http_Post(\r\n            stateChange(row),\r\n            function(datas) {\r\n              if (datas.msg === 0) {\r\n                _this.$Spin.hide();\r\n                _this.$Message.success(\"更改成功\");\r\n                _this.offset = 0;\r\n                _this.findOrder();\r\n              } else {\r\n                _this.$Spin.hide();\r\n                _this.$Message.error(datas.error);\r\n              }\r\n            },\r\n            function(error) {\r\n              _this.$Spin.hide();\r\n              _this.$Message.error(error);\r\n            }\r\n          );\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    },\r\n    // 搜索框为空，查询客户\r\n    emptysDearchCustomer() {\r\n      if (this.inputCustomerText === \"\") {\r\n        this.offset = 0;\r\n        this.findCustomer();\r\n      }\r\n    },\r\n    // 加载跟多客户\r\n    loadCustomerMore() {\r\n      this.offset++;\r\n      this.findCustomer();\r\n    },\r\n    // 确认选择的客户\r\n    selectCustomerModalBtn(row) {\r\n      this.orderData.customer_code = row.code;\r\n      this.orderData.shop = row.shop;\r\n      this.selectCustomerModal = false;\r\n      this.inputCustomerText = \"\";\r\n      this.searchCustomerType = \"shop\";\r\n    },\r\n\r\n    // 搜索框为空，查询商品\r\n    emptysDearchCommodity() {\r\n      if (this.inputCommodityText === \"\") {\r\n        this.offset = 0;\r\n        this.findCommodity();\r\n      }\r\n    },\r\n    // 加载跟多商品\r\n    loadCommodityMore() {\r\n      this.offset++;\r\n      this.findCommodity();\r\n    },\r\n    // 确认选择的商品\r\n    selectCommodityModalBtn(row) {\r\n      let orderItem = this.orderData.orderItemList[this.itemIndex];\r\n      if (orderItem.commodity_code != row.code) {\r\n        for (var i = 0; i < this.orderData.orderItemList.length; i++) {\r\n          if (row.code === this.orderData.orderItemList[i].commodity_code) {\r\n            this.$Message.error(\"销售单中已有此商品\");\r\n            return;\r\n          }\r\n        }\r\n      }\r\n      orderItem.commodity_code = row.code;\r\n      orderItem.bar_code = row.bar_code;\r\n      orderItem.specifications = row.specifications;\r\n      orderItem.price = row.price_out;\r\n      orderItem.unit = \"个\";\r\n      orderItem.name = row.name;\r\n      this.selectCommodityModal = false;\r\n      this.inputCommodityText = \"\";\r\n      this.searchCommodityType = \"name\";\r\n    },\r\n    // 添加新商品空条目\r\n    addItem() {\r\n      if (\r\n        this.orderData.orderItemList.length != 0 &&\r\n        this.orderData.orderItemList[this.orderData.orderItemList.length - 1]\r\n          .commodity_code == \"\"\r\n      ) {\r\n        this.$message.error(\"上一个条目未选择商品，请选择后再添加新条目\");\r\n        return;\r\n      }\r\n      this.orderData.orderItemList.push({\r\n        code: \"\",\r\n        order_code: \"\",\r\n        commodity_code: \"\",\r\n        num: 0,\r\n        bar_code: \"\",\r\n        unit: \"个\",\r\n        price: \"0.00\",\r\n        specifications: 0,\r\n        name: \"\",\r\n        createTime: \"\"\r\n      });\r\n    },\r\n    // 删除商品\r\n    deleteSaleModal(index) {\r\n      let _this = this;\r\n      this.$Modal.confirm({\r\n        title: \"警告\",\r\n        content: \"确定删除此商品？\",\r\n        onOk: () => {\r\n          if (_this.orderData.orderItemList.length == 1) {\r\n            _this.$Message.error(\"只剩一个条目，无法删除\");\r\n            return;\r\n          }\r\n          _this.orderData.orderItemList.splice(index, 1);\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    },\r\n    // 显示选择商品的Modal\r\n    selectCommodityClick(index) {\r\n      if (this.saveBtn == \"修改\") {\r\n        return;\r\n      }\r\n      this.offset = 0;\r\n      this.itemIndex = index;\r\n      this.findCommodity();\r\n      this.selectCommodityModal = true;\r\n    },\r\n    // 显示选择客户的Modal\r\n    selectCustomerClick() {\r\n      if (this.saveBtn == \"修改\") {\r\n        return;\r\n      }\r\n      this.offset = 0;\r\n      this.findCustomer();\r\n      this.selectCustomerModal = true;\r\n    },\r\n\r\n    // 显示修改订单的Modal\r\n    editModalClick(row) {\r\n      this.saveBtn = \"修改\";\r\n      this.orderData.code = row.code;\r\n      this.orderData.customer_code = row.customer_code;\r\n      this.orderData.order_num_code = row.order_num_code;\r\n      this.orderData.order_delivery_code = row.order_delivery_code;\r\n      this.orderData.order_write_code = row.order_write_code;\r\n      this.orderData.num = row.num;\r\n      this.orderData.price = row.price;\r\n      this.orderData.price_up = row.price_up;\r\n      this.orderData.shop = row.shop;\r\n      this.orderData.state = row.state;\r\n      this.orderData.real_price = row.real_price;\r\n      this.orderData.create_time = row.create_time;\r\n      this.findOrderItem(row);\r\n      this.editModal = true;\r\n    },\r\n    // 条件搜索变化\r\n    searchTypeChange() {\r\n      this.findOrder();\r\n    },\r\n    // 显示删除客户的Modal\r\n    deleteModal(row) {\r\n      let _this = this;\r\n      this.$Modal.confirm({\r\n        title: \"警告\",\r\n        content: \"确定删除此订单？\",\r\n        onOk: () => {\r\n          this.$Spin.show();\r\n          Http_Post(\r\n            deleteOrder(row),\r\n            function(datas) {\r\n              if (datas.msg === 0) {\r\n                _this.$Spin.hide();\r\n                _this.$Message.success(\"删除成功\");\r\n                _this.offset = 0;\r\n                _this.findOrder();\r\n              } else {\r\n                _this.$Spin.hide();\r\n                _this.$Message.error(datas.error);\r\n              }\r\n            },\r\n            function(error) {\r\n              _this.$Spin.hide();\r\n              _this.$Message.error(error);\r\n            }\r\n          );\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n    },\r\n    // 加载跟多\r\n    loadMore() {\r\n      this.offset++;\r\n      this.findOrder();\r\n    },\r\n    // 搜索框为空，查询d订单\r\n    emptysDearchOrder() {\r\n      if (this.inputText === \"\") {\r\n        this.offset = 0;\r\n        this.findOrder();\r\n      }\r\n    },\r\n    // 查询订单\r\n    findOrder() {\r\n      let _this = this;\r\n      this.$Spin.show();\r\n      Http_Post(\r\n        findOrder(_this.inputText, _this.searchType, _this.offset, _this.limit),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            if (datas.data.length < _this.limit) {\r\n              _this.isShowMoreBtn = false;\r\n            } else {\r\n              _this.isShowMoreBtn = true;\r\n            }\r\n            if (_this.offset == 0) {\r\n              _this.tableData = datas.data;\r\n            } else {\r\n              for (var i = 0; i < datas.data.length; i++) {\r\n                _this.tableData.push(datas.data[i]);\r\n              }\r\n            }\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n    // 查询订单条目\r\n    findOrderItem(order) {\r\n      let _this = this;\r\n      this.$Spin.show();\r\n      Http_Post(\r\n        findOrderItem(order),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            _this.orderData.orderItemList = datas.data;\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n    // 查询客户\r\n    findCustomer() {\r\n      let _this = this;\r\n      _this.$Spin.show();\r\n      Http_Post(\r\n        findCustomer(\r\n          _this.inputCustomerText,\r\n          _this.searchCustomerType,\r\n          _this.offset,\r\n          _this.limit\r\n        ),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            if (datas.data.length < _this.limit) {\r\n              _this.isCustomerShowMoreBtn = false;\r\n            } else {\r\n              _this.isCustomerShowMoreBtn = true;\r\n            }\r\n            if (_this.offset == 0) {\r\n              _this.customerList = datas.data;\r\n            } else {\r\n              for (var i = 0; i < datas.data.length; i++) {\r\n                _this.customerList.push(datas.data[i]);\r\n              }\r\n            }\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n    // 查询商品\r\n    findCommodity() {\r\n      let _this = this;\r\n      this.$Spin.show();\r\n      Http_Post(\r\n        findCommodity(\r\n          _this.inputCommodityText,\r\n          _this.searchCommodityType,\r\n          _this.offset,\r\n          _this.limit\r\n        ),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            if (datas.data.length < _this.limit) {\r\n              _this.isCommodityShowMoreBtn = false;\r\n            } else {\r\n              _this.isCommodityShowMoreBtn = true;\r\n            }\r\n            if (_this.offset == 0) {\r\n              _this.commodityList = datas.data;\r\n            } else {\r\n              for (var i = 0; i < datas.data.length; i++) {\r\n                _this.commodityList.push(datas.data[i]);\r\n              }\r\n            }\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n\r\n    // 单位选择单价改变\r\n    unitChange(row) {\r\n      if (row.unit === \"个\") {\r\n        if (row.specifications === 0) {\r\n          row.price = keepTwoDecimalFull(0);\r\n        } else {\r\n          row.price = keepTwoDecimalFull(row.price / row.specifications);\r\n        }\r\n      } else {\r\n        row.price = keepTwoDecimalFull(row.price * row.specifications);\r\n      }\r\n    },\r\n    // 显示删除客户的Modal\r\n    saveSure() {\r\n      // 判断按钮\r\n      let _this = this;\r\n      if (this.saveBtn == \"修改\") {\r\n        this.saveBtn = \"保存\";\r\n      } else {\r\n        this.$Modal.confirm({\r\n          title: \"警告\",\r\n          content: \"确定保存此订单？\",\r\n          onOk: () => {\r\n            _this.saveOrder();\r\n          },\r\n          onCancel: () => {}\r\n        });\r\n      }\r\n    },\r\n    // 保存销售单\r\n    saveOrder() {\r\n      // 空判断\r\n      if (\r\n        this.orderData.customer_code == null ||\r\n        this.orderData.customer_code === \"\"\r\n      ) {\r\n        this.$Message.error(\"客户未选择\");\r\n        return;\r\n      }\r\n      // 空判断\r\n      if (\r\n        this.orderData.order_write_code == null ||\r\n        this.orderData.order_write_code === \"\"\r\n      ) {\r\n        this.$Message.error(\"下单员为空\");\r\n        return;\r\n      }\r\n      // 空判断\r\n      if (this.orderData.state == null) {\r\n        this.$Message.error(\"订单状态为空\");\r\n        return;\r\n      }\r\n      // 条目空判断\r\n      if (\r\n        this.orderData.orderItemList == null ||\r\n        this.orderData.orderItemList.length === 0\r\n      ) {\r\n        this.$Message.error(\"订单没有商品\");\r\n        return;\r\n      }\r\n      for (var i = 0; i < this.orderData.orderItemList.length; i++) {\r\n        if (\r\n          this.orderData.orderItemList[i].commodity_code == null ||\r\n          this.orderData.orderItemList[i].commodity_code == \"\"\r\n        ) {\r\n          this.$Message.error(\"有条目未选择商品\");\r\n          return;\r\n        }\r\n        if (\r\n          this.orderData.orderItemList[i].num == null ||\r\n          this.orderData.orderItemList[i].num == 0\r\n        ) {\r\n          this.$Message.error(\"有条目未填写商品数量\");\r\n          return;\r\n        }\r\n      }\r\n      let _this = this;\r\n      _this.$Spin.show();\r\n      Http_Post(\r\n        updateOrder(this.orderData),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            _this.$Message.success(\"保存成功\");\r\n            _this.$Spin.hide();\r\n            _this.saveBtn = \"修改\";\r\n            _this.findOrder();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    },\r\n    // 打印销售单\r\n    printOrder() {\r\n      let _this = this;\r\n      _this.$Spin.show();\r\n      Http_Post(\r\n        getPrintOrders(this.orderData),\r\n        function(datas) {\r\n          if (datas.msg === 0) {\r\n            _this.$refs.printOrders.startPrintOrders(datas.data);\r\n            _this.$Spin.hide();\r\n          } else {\r\n            _this.$Spin.hide();\r\n            _this.$Message.error(datas.error);\r\n          }\r\n        },\r\n        function(error) {\r\n          _this.$Spin.hide();\r\n          _this.$Message.error(error);\r\n        }\r\n      );\r\n    }\r\n  },\r\n  created() {\r\n    // 判断是否登录\r\n    if (sessionStorage.getItem(\"user\") == null) {\r\n      this.$router.push({ name: \"login\" });\r\n      return;\r\n    }\r\n    this.user = JSON.parse(sessionStorage.getItem(\"user\"));\r\n    this.findOrder();\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=044e09e2&scoped=true&\"\nimport script from \"./History.vue?vue&type=script&lang=js&\"\nexport * from \"./History.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"044e09e2\",\n  null\n  \n)\n\nexport default component.exports","// 添加订单\r\nexport function addOrder(orderData) {\r\n  return {\r\n    ac: 'addOrder',\r\n    customer_code: orderData.customer_code,\r\n    shop: orderData.shop,\r\n    order_write_code: orderData.order_write_code,\r\n    num: orderData.num,\r\n    price: orderData.price,\r\n    state: orderData.state,\r\n    real_price: orderData.real_price,\r\n    orderItemList: orderData.orderItemList\r\n  }\r\n}\r\n// 修改订单\r\nexport function updateOrder(orderData) {\r\n  return {\r\n    ac: 'updateOrder',\r\n    code: orderData.code,\r\n    customer_code: orderData.customer_code,\r\n    shop: orderData.shop,\r\n    order_write_code: orderData.order_write_code,\r\n    num: orderData.num,\r\n    price: orderData.price,\r\n    state: orderData.state,\r\n    real_price: orderData.real_price,\r\n    create_time: orderData.create_time,\r\n    orderItemList: orderData.orderItemList\r\n  }\r\n}\r\n\r\n// 查询订单条目\r\nexport function findOrderItem(orderData) {\r\n  return {\r\n    ac: 'findOrderItem',\r\n    code: orderData.code,\r\n  }\r\n}\r\n\r\n// 查询订单\r\nexport function findOrder(searchText = '', searchType = \"-1\", offset = 0, limit = 30) {\r\n  return {\r\n    ac: 'findOrder',\r\n    offset: offset,\r\n    limit: limit,\r\n    searchText: searchText,\r\n    searchType: searchType\r\n  }\r\n}\r\n\r\n\r\n// 删除订单\r\nexport function deleteOrder(order) {\r\n  return {\r\n    ac: 'deleteOrder',\r\n    code: order.code,\r\n  }\r\n}\r\n\r\n// 更改销售单状态\r\nexport function stateChange(order) {\r\n  return {\r\n    ac: 'stateChange',\r\n    code: order.code,\r\n    state: order.state,\r\n  }\r\n}\r\n\r\n// 更改销售单状态\r\nexport function getPrintOrders(order) {\r\n  return {\r\n    ac: 'getPrintOrders',\r\n    code: order.code,\r\n  }\r\n}\r\n","var CreatedOKLodop7766 = null;\r\n\r\n//====判断是否需要安装CLodop云打印服务器:====\r\nexport function needCLodop() {\r\n  try {\r\n    var ua = navigator.userAgent;\r\n    if (ua.match(/Windows\\sPhone/i) != null) return true;\r\n    if (ua.match(/iPhone|iPod/i) != null) return true;\r\n    if (ua.match(/Android/i) != null) return true;\r\n    if (ua.match(/Edge\\D?\\d+/i) != null) return true;\r\n\r\n    var verTrident = ua.match(/Trident\\D?\\d+/i);\r\n    var verIE = ua.match(/MSIE\\D?\\d+/i);\r\n    var verOPR = ua.match(/OPR\\D?\\d+/i);\r\n    var verFF = ua.match(/Firefox\\D?\\d+/i);\r\n    var x64 = ua.match(/x64/i);\r\n    if ((verTrident == null) && (verIE == null) && (x64 !== null))\r\n      return true;\r\n    else\r\n    if (verFF !== null) {\r\n      verFF = verFF[0].match(/\\d+/);\r\n      if ((verFF[0] >= 42) || (x64 !== null)) return true;\r\n    } else\r\n    if (verOPR !== null) {\r\n      verOPR = verOPR[0].match(/\\d+/);\r\n      if (verOPR[0] >= 32) return true;\r\n    } else\r\n    if ((verTrident == null) && (verIE == null)) {\r\n      var verChrome = ua.match(/Chrome\\D?\\d+/i);\r\n      if (verChrome !== null) {\r\n        verChrome = verChrome[0].match(/\\d+/);\r\n        if (verChrome[0] >= 42) return true;\r\n      };\r\n    };\r\n    return false;\r\n  } catch (err) {\r\n    return true;\r\n  };\r\n};\r\n\r\n//====页面引用CLodop云打印必须的JS文件：====\r\nif (needCLodop()) {\r\n  var head = document.head || document.getElementsByTagName(\"head\")[0] || document.documentElement;\r\n  var oscript = document.createElement(\"script\");\r\n  oscript.src = \"http://localhost:8000/CLodopfuncs.js?priority=1\";\r\n  head.insertBefore(oscript, head.firstChild);\r\n\r\n  //引用双端口(8000和18000）避免其中某个被占用：\r\n  oscript = document.createElement(\"script\");\r\n  oscript.src = \"http://localhost:18000/CLodopfuncs.js?priority=0\";\r\n  head.insertBefore(oscript, head.firstChild);\r\n};\r\n\r\n//====获取LODOP对象的主过程：====\r\nexport function getLodop(oOBJECT, oEMBED) {\r\n  var strHtmInstall = \"<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop32.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>\";\r\n  var strHtmUpdate = \"<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop32.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>\";\r\n  var strHtm64_Install = \"<br><font color='#FF00FF'>打印控件未安装!点击这里<a href='install_lodop64.exe' target='_self'>执行安装</a>,安装后请刷新页面或重新进入。</font>\";\r\n  var strHtm64_Update = \"<br><font color='#FF00FF'>打印控件需要升级!点击这里<a href='install_lodop64.exe' target='_self'>执行升级</a>,升级后请重新进入。</font>\";\r\n  var strHtmFireFox = \"<br><br><font color='#FF00FF'>（注意：如曾安装过Lodop旧版附件npActiveXPLugin,请在【工具】->【附加组件】->【扩展】中先卸它）</font>\";\r\n  var strHtmChrome = \"<br><br><font color='#FF00FF'>(如果此前正常，仅因浏览器升级或重安装而出问题，需重新执行以上安装）</font>\";\r\n  var strCLodopInstall = \"<br><font color='#FF00FF'>CLodop云打印服务(localhost本地)未安装启动!点击这里<a href='http://www.c-lodop.com/download/CLodop_Setup_for_Win32NT_https_3.008Extend.zip' target='_self'>执行安装</a>,安装后请刷新页面。</font>\";\r\n  var strCLodopUpdate = \"<br><font color='#FF00FF'>CLodop云打印服务需升级!点击这里<a href='CLodop_Setup_for_Win32NT.exe' target='_self'>执行升级</a>,升级后请刷新页面。</font>\";\r\n  var LODOP;\r\n  try {\r\n    var isIE = (navigator.userAgent.indexOf('MSIE') >= 0) || (navigator.userAgent.indexOf('Trident') >= 0);\r\n    if (needCLodop()) {\r\n      try {\r\n        LODOP = getCLodop();\r\n      } catch (err) {};\r\n      if (!LODOP && document.readyState !== \"complete\") {\r\n        alert(\"C-Lodop没准备好，请稍后再试！\");\r\n        return;\r\n      };\r\n      if (!LODOP) {\r\n        // if (isIE) document.write(strCLodopInstall); else\r\n        // document.documentElement.innerHTML=strCLodopInstall+document.documentElement.innerHTML;\r\n        // return;\r\n      } else {\r\n\r\n        if (CLODOP.CVERSION < \"3.0.0.2\") {\r\n          if (isIE) document.write(strCLodopUpdate);\r\n          else\r\n            document.documentElement.innerHTML = strCLodopUpdate + document.documentElement.innerHTML;\r\n        };\r\n        if (oEMBED && oEMBED.parentNode) oEMBED.parentNode.removeChild(oEMBED);\r\n        if (oOBJECT && oOBJECT.parentNode) oOBJECT.parentNode.removeChild(oOBJECT);\r\n      };\r\n    } else {\r\n      var is64IE = isIE && (navigator.userAgent.indexOf('x64') >= 0);\r\n      //=====如果页面有Lodop就直接使用，没有则新建:==========\r\n      if (oOBJECT != undefined || oEMBED != undefined) {\r\n        if (isIE) LODOP = oOBJECT;\r\n        else LODOP = oEMBED;\r\n      } else if (CreatedOKLodop7766 == null) {\r\n        LODOP = document.createElement(\"object\");\r\n        LODOP.setAttribute(\"width\", 0);\r\n        LODOP.setAttribute(\"height\", 0);\r\n        LODOP.setAttribute(\"style\", \"position:absolute;left:0px;top:-100px;width:0px;height:0px;\");\r\n        if (isIE) LODOP.setAttribute(\"classid\", \"clsid:2105C259-1E0C-4534-8141-A753534CB4CA\");\r\n        else LODOP.setAttribute(\"type\", \"application/x-print-lodop\");\r\n        document.documentElement.appendChild(LODOP);\r\n        CreatedOKLodop7766 = LODOP;\r\n      } else LODOP = CreatedOKLodop7766;\r\n      //=====Lodop插件未安装时提示下载地址:==========\r\n      if ((LODOP == null) || (typeof (LODOP.VERSION) == \"undefined\")) {\r\n        if (navigator.userAgent.indexOf('Chrome') >= 0)\r\n          document.documentElement.innerHTML = strHtmChrome + document.documentElement.innerHTML;\r\n        if (navigator.userAgent.indexOf('Firefox') >= 0)\r\n          document.documentElement.innerHTML = strHtmFireFox + document.documentElement.innerHTML;\r\n        if (is64IE) document.write(strHtm64_Install);\r\n        else\r\n        if (isIE) document.write(strHtmInstall);\r\n        else\r\n          document.documentElement.innerHTML = strHtmInstall + document.documentElement.innerHTML;\r\n        return LODOP;\r\n      };\r\n    };\r\n    if (LODOP.VERSION < \"6.0\") {\r\n      if (!needCLodop()) {\r\n        if (is64IE) document.write(strHtm64_Update);\r\n        else\r\n        if (isIE) document.write(strHtmUpdate);\r\n        else\r\n          document.documentElement.innerHTML = strHtmUpdate + document.documentElement.innerHTML;\r\n      };\r\n      return LODOP;\r\n    };\r\n    //===如下空白位置适合调用统一功能(如注册语句、语言选择等):===\r\n    //LODOP.SET_LICENSES(\"北京XXXXX公司\",\"8xxxxxxxxxxxxx5\",\"\",\"\");\r\n\r\n    //===========================================================\r\n    return LODOP;\r\n  } catch (err) {\r\n    alert(\"getLodop出错:\" + err);\r\n  };\r\n};\r\n"],"sourceRoot":""}